[{"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/index.js":"1","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/App.js":"2","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Account.js":"3","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/pages/Main.js":"4","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/TopMenu.js":"5","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/ChatSide.js":"6","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/ChatRight.js":"7","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Messages.js":"8","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Members.js":"9","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/pages/PrivateRoute.js":"10","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthState.js":"11","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthContext.js":"12","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/types.js":"13","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthReducer.js":"14","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/help/functions.js":"15","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/axios.js":"16","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Loading.js":"17","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatState.js":"18","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatContext.js":"19","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatReducer.js":"20","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/help/sockets.js":"21"},{"size":197,"mtime":1608465200416,"results":"22","hashOfConfig":"23"},{"size":420,"mtime":1609802409119,"results":"24","hashOfConfig":"23"},{"size":4382,"mtime":1609100471078,"results":"25","hashOfConfig":"23"},{"size":2548,"mtime":1610914519834,"results":"26","hashOfConfig":"23"},{"size":5164,"mtime":1609362551147,"results":"27","hashOfConfig":"23"},{"size":8186,"mtime":1610838127197,"results":"28","hashOfConfig":"23"},{"size":5666,"mtime":1610913460880,"results":"29","hashOfConfig":"23"},{"size":3244,"mtime":1610912196027,"results":"30","hashOfConfig":"23"},{"size":6293,"mtime":1609682712577,"results":"31","hashOfConfig":"23"},{"size":1234,"mtime":1609091900120,"results":"32","hashOfConfig":"23"},{"size":6039,"mtime":1610830866432,"results":"33","hashOfConfig":"23"},{"size":104,"mtime":1609091365557,"results":"34","hashOfConfig":"23"},{"size":1333,"mtime":1610914566450,"results":"35","hashOfConfig":"23"},{"size":2681,"mtime":1609683652664,"results":"36","hashOfConfig":"23"},{"size":1154,"mtime":1610901440680,"results":"37","hashOfConfig":"23"},{"size":204,"mtime":1609802427019,"results":"38","hashOfConfig":"23"},{"size":230,"mtime":1609091685270,"results":"39","hashOfConfig":"23"},{"size":5559,"mtime":1610915506970,"results":"40","hashOfConfig":"23"},{"size":104,"mtime":1609219721518,"results":"41","hashOfConfig":"23"},{"size":7904,"mtime":1610915315720,"results":"42","hashOfConfig":"23"},{"size":1298,"mtime":1610914295464,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"k1i8r1",{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"46"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"46"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"46"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"46"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"46"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"46"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/index.js",[],["99","100"],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/App.js",["101"],"import React, { useEffect } from 'react'\nimport AuthState from './context/auth/AuthState'\nimport ChatState from './context/chat/chatState'\nimport PrivateRoute from './pages/PrivateRoute'\n\n//styles\nimport \"./custom.scss\"\n\nfunction App() {\n  return (\n    <AuthState>\n      <ChatState>\n        <div className=\"dchat\">\n          <PrivateRoute />\n        </div>\n      </ChatState>\n    </AuthState>\n  );\n}\n\nexport default App;","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Account.js",["102","103","104","105","106"],"import React, { useState, useContext } from 'react'\nimport AuthContext from '../context/auth/AuthContext';\n\nexport default function Account() {\n    //context promenlivi\n    const { logirajSe, registrirajSe, errors, setError, sepromenuvaLozinka } = useContext(AuthContext);\n\n    //Login promenlivi:\n    const [email, setEmail] = useState(\"\");\n    const [lozinka, namestiLozinka] = useState(\"\");\n\n    //Register promenlivi:\n    const [ime, namestiIme] = useState(\"\");\n    const [prezime, namestiPrezime] = useState(\"\");\n    const [telefon, namestiTelefon] = useState(\"\");\n    const [emailRegister, setEmailRegister] = useState(\"\");\n    const [passwordRegister, setPasswordRegister] = useState(\"\");\n\n    // koj screen da se prikazi:\n    const [loginForm, setLoginForm] = useState(true);\n\n    // najavi se\n    const submitLogin = async (e) => {\n        e.preventDefault();\n        const user = {\n            email,\n            lozinka\n        }\n\n        const logiran = await logirajSe(user);\n    }\n\n    //registriraj se\n    const submitRegister = async (e) => {\n        e.preventDefault();\n\n        const user = {\n            email: emailRegister,\n            lozinka: passwordRegister,\n            ime,\n            prezime,\n            telefon\n        }\n\n        const registriran = await registrirajSe(user);\n\n    }\n\n    if (sepromenuvaLozinka === false) {\n        return (\n            <div className=\"account-form\">\n                <div className=\"account-form__header\">\n                    <h2>{loginForm ? 'Најави се' : 'Регистрација'}</h2>\n                </div>\n                <div className=\"account-form__inner\">\n                    {\n                        loginForm ? (\n                            <form onSubmit={submitLogin}>\n                                <input value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Е-mail адреса\" type=\"text\" />\n                                <input value={lozinka} onChange={(e) => namestiLozinka(e.target.value)} placeholder=\"Лозинка\" type=\"password\" />\n                                <button type=\"submit\">Најава</button>\n\n                                <a className=\"pointer hover-text-primary\" onClick={() => { setLoginForm(false); }}>Регистрирај се</a>\n\n                                {\n                                    errors && (\n                                        <div className=\"error-msg\">\n                                            <p>{errors}</p>\n                                        </div>\n                                    )\n                                }\n                            </form>) : (\n                                <form onSubmit={submitRegister}>\n                                    <input value={ime} onChange={(e) => namestiIme(e.target.value)} placeholder=\"Вашето име\" type=\"text\" />\n                                    <input value={prezime} onChange={(e) => namestiPrezime(e.target.value)} placeholder=\"Вашето презиме\" type=\"text\" />\n                                    <input value={telefon} onChange={(e) => namestiTelefon(e.target.value)} placeholder=\"Телефонски број\" type=\"text\" />\n                                    <input value={emailRegister} onChange={(e) => setEmailRegister(e.target.value)} placeholder=\"Е-mail адреса\" type=\"text\" />\n                                    <input value={passwordRegister} onChange={(e) => setPasswordRegister(e.target.value)} placeholder=\"Лозинка\" type=\"password\" />\n                                    <button type=\"submit\">Регистрирај се</button>\n                                    <a className=\"pointer hover-text-primary\" onClick={() => { setLoginForm(true); }}>Најава</a>\n\n                                    {\n                                        errors && (\n                                            <div className=\"error-msg\">\n                                                <p>{errors}</p>\n                                            </div>\n                                        )\n                                    }\n                                </form>\n                            )\n                    }\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <h4 className=\"text-white\">Се зачувува...</h4>\n        )\n    }\n}\n","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/pages/Main.js",["107","108","109","110","111","112","113","114","115","116","117"],"import React, { useContext, useEffect, useState } from 'react'\nimport TopMenu from '../components/TopMenu'\nimport ChatSide from '../components/ChatSide';\nimport ChatRight from '../components/ChatRight';\nimport ChatContext from '../context/chat/chatContext'\nimport AuthContext from '../context/auth/AuthContext'\nimport { zemiSiteGrupi } from '../help/functions'\n\nimport { inicijalizirajSocket, pretplataChat, vleziVoGrupi } from '../help/sockets'\n\nexport default function Main() {\n    const [chats, setChats] = useState([]);\n    const [siteGrupi, namestiSiteGrupi] = useState([]);\n    const {grupi, grupa, vmetniPoraka, zemiGrupi, poraki, zemiPoraki, osveziGrupi} = useContext(ChatContext);\n    const { user, users, citajKorisnici, setChanging } = useContext(AuthContext);\n    \n    useEffect(() => {\n            inicijalizirajSocket();\n            pretplataChat(vmetniPoraka);\n\n            return () => {\n\n            }\n    }, []);\n\n    useEffect(() => {    \n        async function zemiGrupiAsync() {\n            const grupi = await zemiGrupi(user._id);\n        }\n        \n        zemiGrupiAsync();\n        \n    }, []);\n\n    useEffect(() => {\n        console.log('se smena refresh grupi');\n        const zemiGrupiAsync = async() => {\n            await zemiGrupi(user._id);\n        }\n        if (osveziGrupi) {\n        console.log('se smena refresh grupi -true');\n\n            zemiGrupiAsync();\n        }\n    }, [osveziGrupi])\n\n    useEffect(() => {\n        if (grupi && grupi.length != 0) {\n            let grupiTemp = grupi.map((grupa, index) => grupa._id);\n            zemiPoraki(grupiTemp.toString());\n\n            // Najdi gi site users od site grupi\n            let korisniciTemp = [];\n            grupi.forEach(grupa => {\n                grupa.korisnici.forEach(korisnik => {\n                    let duplicate = korisniciTemp.some(korisnicko => korisnicko.trim() == korisnik.trim());\n                    if (!duplicate) {\n                        korisniciTemp.push(korisnik.trim());\n                    }\n                })\n            });\n\n            citajKorisnici(korisniciTemp.toString());\n            namestiSiteGrupi(zemiSiteGrupi(user._id, grupi));\n\n            vleziVoGrupi(grupi, user._id);\n        }\n    }, [grupi]);\n\n\n    return (\n        <div className=\"chat-wrap\">\n            <TopMenu />\n            <div className=\"bottom-main\">\n                <ChatSide grupi={siteGrupi} poraki={poraki} users={users} />\n                <ChatRight />\n            </div>\n        </div>\n    )\n}","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/TopMenu.js",["118","119"],"import React, {useContext, useState} from 'react'\n\nimport Avatar from 'react-avatar'\nimport {MdChat} from 'react-icons/md'\nimport { GrFormDown } from 'react-icons/gr'\nimport AuthContext from '../context/auth/AuthContext'\n\n\nexport default function TopMenu() {\n    const { odlogirajSe, promeniLozinka, setChanging, errors, lozinkaPoraka, user } = useContext(AuthContext);\n    const [settings, setSettings] = useState(false);\n    const [popup, setPopup] = useState(false);\n    const [loadingBtn, setLoadingBtn] = useState(false);\n    const [lozinki, namestiLozinki] = useState({\n        oldPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\"\n    })\n\n    //local funkcii\n    const logout = () => {\n        odlogirajSe();\n    }\n\n    const handleChange = (e) => {\n        console.log(e.target.name);\n        namestiLozinki({\n            ...lozinki,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const onSubmit = async (e) => {\n        e.preventDefault();\n        setLoadingBtn(true);\n        setChanging(true);\n        var saved = await promeniLozinka(lozinki);\n        setLoadingBtn(false);\n    }\n\n    const { oldPassword, newPassword, confirmPassword } = lozinki;\n    \n    return (\n        <div className=\"top-menu container-small\">\n            <div className=\"top-menu__left\">\n                <div className=\"logo\"> \n                    <MdChat className=\"logo-icon\" />\n                    <h4>D-Chat</h4>\n                </div>\n            </div>\n            <div className=\"top-menu__right\" onClick={() => setSettings(!settings)}>\n                <div className=\"user-settings-toggle\">\n                    <Avatar className=\"avatar\" size=\"30\" name={`${user.ime} ${user.prezime}`} />\n                    <p>{user.ime} {user.prezime}</p>\n                    <GrFormDown size=\"24\" />\n                </div>\n            </div>\n\n            {settings && (\n                <div className=\"options-dropdown\">\n                    <div onClick={() => setPopup(!popup)} className=\"option-choose\">\n                        <p>Промени лозинка</p>\n                    </div>\n                    <div onClick={logout} className=\"option-choose\">\n                        <p>Одјави се</p>\n                    </div>\n                </div>\n            )}\n\n\n            {\n                popup && (\n                    <div className=\"settings fixed d-flex flex-center top-0 left-0 h-100 w-100 bg-dark-light z-9\">\n                        <div className=\"settings-inner d-flex flex-column bg-white box-shadow-light\">\n                            <div className=\"settings-header bb-1px-solid b-lightGrey-lighter d-flex justify-between align-center\">\n                                <h4 className=\"text-uppercase\">Подесувања</h4>\n                                <span onClick={() => setPopup(false)}>&#10005;</span>\n                            </div>\n                            <form noValidate onSubmit={onSubmit} className=\"settings-inner d-flex flex-column px-20px py-20px\">\n                                <div className=\"contact-box d-flex flex-column w-100 b-2px-solid b-lightGrey-lighter py-12px mt-15px\">\n                                    <input className=\"px-5px w-100\" name=\"oldPassword\" onChange={handleChange} value={oldPassword} required type=\"password\" />\n                                    <label htmlFor=\"\">Стара лозинка</label>\n                                </div>\n                                <div className=\"contact-box d-flex flex-column w-100 b-2px-solid b-lightGrey-lighter py-12px mt-15px\">\n                                    <input className=\"px-5px w-100\" name=\"newPassword\" onChange={handleChange} value={newPassword} required type=\"password\" />\n                                    <label htmlFor=\"\">Нова лозинка</label>\n                                </div>\n                                <div className=\"contact-box d-flex flex-column w-100 b-2px-solid b-lightGrey-lighter py-12px mt-15px\">\n                                    <input className=\"px-5px w-100\" name=\"confirmPassword\" onChange={handleChange} value={confirmPassword} required type=\"password\" />\n                                    <label htmlFor=\"\">Потврди лозинка</label>\n                                </div>\n                                <div className=\"submit-btn mt-15px\">\n                                    <button className=\"w-100 bg-primary hover-bg-primary-dark text-uppercase hover-text-dark py-20px text-center text-white\">\n                                        {loadingBtn ? 'Ве молиме почекајте...' : 'Промени лозинка'}\n                                    </button>\n                                </div>\n\n                                <div className=\"error-msg mt-20px\">\n                                    {errors ? errors : ''}\n                                    {lozinkaPoraka != \"\" ? lozinkaPoraka : \"\"}\n                                </div>\n                              \n                            </form>\n\n                        </div>\n                    </div>\n                )\n            }\n        </div>\n    )\n}\n","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/ChatSide.js",["120","121","122","123","124","125","126","127","128","129"],"import React, { useState, useContext, useEffect } from 'react'\nimport Avatar from 'react-avatar'\nimport moment from 'moment'\n\nimport ChatContext from '../context/chat/chatContext'\nimport AuthContext from '../context/auth/AuthContext'\nimport { RiMessage2Line } from 'react-icons/ri'\nimport { zemiSitePoraki, zemiKorisnikPoraka } from '../help/functions'\n\nexport default function ChatSide({ poraki, users }) {\n    //popup za nova grupa\n    const [novaGrupaPopup, namestiNovaGrupaPopup] = useState(false);\n    const [grupaNaslov, namestiGrupaNaslov] = useState('');\n    const [email, namestiEmail] = useState('');\n\n    //context\n    const { user, najdiKorisnikPoMail, novaGrupaMsg, poslednoDodadenMail } = useContext(AuthContext);\n    const { namestiAktivniPoraki, aktivniPoraki, namestiGrupa, grupa, dodajNovaGrupa, grupi } = useContext(ChatContext);\n    const aktivnaGrupa = grupa;\n    const [change, setChange] = useState(false);\n    const [tempKorisnici, namestiTempKorisnici] = useState([]);\n\n    const submitForm = async e => {\n        e.preventDefault();\n\n        najdiKorisnikPoMail(email);\n        setChange(!change);\n    }\n\n    useEffect(() => {\n\n    }, [aktivniPoraki])\n\n    useEffect(() => {\n        if (poslednoDodadenMail) {\n            if (poslednoDodadenMail.email.trim() != \"\") {\n                let posledenMailPostoi = tempKorisnici.some(tempKorisnik => tempKorisnik.email == poslednoDodadenMail.email);\n\n                if (posledenMailPostoi == false) {\n                    let updatedKorisnici = tempKorisnici;\n                    updatedKorisnici.push(poslednoDodadenMail);\n\n                    namestiTempKorisnici(updatedKorisnici);\n                    namestiEmail('');\n                }\n            }\n\n        }\n    }, [poslednoDodadenMail, change]);\n\n    const createGroup = async () => {\n        let tempKorisniciIds = tempKorisnici.map(mail => mail._id);\n\n        if (tempKorisniciIds.includes(user._id) == false) {\n            tempKorisniciIds.push(user._id);\n        }\n        const dodadenaGrupa = await dodajNovaGrupa(tempKorisniciIds.toString(), grupaNaslov);\n\n       \n        if (dodadenaGrupa) {\n            namestiNovaGrupaPopup(false);\n        }\n    }\n\n    const otstraniOdTemp = async (korisnik) => {\n        let noviKorisnici = tempKorisnici.filter(tempKorisnik => tempKorisnik.email != korisnik.email);\n\n        namestiTempKorisnici(noviKorisnici);\n    }\n\n\n\n    return (\n        <div className=\"messages-list\">\n            <div className=\"messages-list-top container-small\">\n                <p>{grupi.length} пораки</p>\n                <div onClick={() => namestiNovaGrupaPopup(true)} className=\"new-chat\">\n                    <RiMessage2Line size=\"24\" />\n                    <div className=\"plus-icon\"><span>+</span></div>\n                </div>\n            </div>\n\n            {\n                novaGrupaPopup && (\n                    <div className=\"newMessage-popup\">\n                        <div className=\"newMessage-popup__inner\">\n                            <div className=\"header\">\n                                <input value={grupaNaslov} onChange={(e) => namestiGrupaNaslov(e.target.value)} className=\"header-input\" placeholder=\"Име на група\" />\n                                <span onClick={() => namestiNovaGrupaPopup(false)}>&#10005;</span>\n                            </div>\n\n                            <div className=\"content\">\n                                <div className=\"list\">\n                                    {\n                                        tempKorisnici.map(temoKorisnik => (\n                                            <div className=\"item\">\n                                                <p>{temoKorisnik.email}</p>\n                                                <span onClick={() => otstraniOdTemp(temoKorisnik)}>&#10005;</span>\n                                            </div>\n\n                                        ))\n                                    }\n                                </div>\n\n                                <form onSubmit={submitForm} className=\"form\">\n                                    <input value={email} onChange={(e) => namestiEmail(e.target.value)} placeholder=\"E-mail адреса на членот...\" type=\"email\" />\n                                    <button>+</button>\n                                </form>\n\n                                {\n                                    (tempKorisnici && tempKorisnici.length != 0) && (\n                                        <button onClick={createGroup} className=\"createGroup\">Направи група</button>\n                                    )\n                                }\n                                {\n                                    novaGrupaMsg && (\n                                        <div className=\"msg\">\n                                            <p>{novaGrupaMsg}</p>\n                                        </div>\n                                    )\n                                }\n                            </div>\n                        </div>\n                    </div>\n                )\n            }\n\n            <div className=\"chat-list-inner\">\n                {\n                    grupi.map(grupa => {\n                        if (grupa) {\n                            let porakiGrupa = zemiSitePoraki(grupa._id, poraki);\n\n                            let porakiGrupaTemp = porakiGrupa;\n\n                            let poslednaPoraka = {\n                                sodrzina: \"Нема пораки\",\n                                createdAt: \"\",\n                                updatedAt: \"\",\n                                isprakjac: \"\",\n                                procitanoOd: []\n                            }\n                            if (porakiGrupa.length != 0) poslednaPoraka = porakiGrupa[porakiGrupa.length - 1];\n\n                            //user\n                            let korisnikPoraka = zemiKorisnikPoraka(poslednaPoraka.isprakjac, users);\n\n                            let isprakjacIme = '';\n\n                            if (korisnikPoraka) {\n                                isprakjacIme = korisnikPoraka.ime;\n                            }\n\n                            return (\n                                <div key={grupa._id} onClick={() => { namestiAktivniPoraki(porakiGrupaTemp); namestiGrupa(grupa) }} className={`chat-group container-small ${aktivnaGrupa && aktivnaGrupa._id == grupa._id ? 'active' : ''} ${poslednaPoraka.procitanoOd.includes(user._id) ? '' : 'new'}`}>\n                                    <div className=\"group-img\">\n                                        <Avatar size={45} className=\"radius-half\" name={grupa.ime} />\n                                    </div>\n                                    <div className=\"group-right\">\n                                        <div className=\"group-right__top\">\n                                            <div className=\"group-name\">\n                                                <p>{grupa.ime}</p>\n                                            </div>\n                                            <div className=\"group-time\">\n                                                <span>{poslednaPoraka.updatedAt ? moment(poslednaPoraka.updatedAt).fromNow() : \"\"}</span>\n                                            </div>\n                                        </div>\n                                        <div className=\"group-right__bottom\">\n                                            <p><b>{isprakjacIme ? `${isprakjacIme}: ` : ''}</b> {poslednaPoraka && (poslednaPoraka.sodrzina.length > 12 ? `${poslednaPoraka.sodrzina.substr(0, 12)}...` : poslednaPoraka.sodrzina)}</p>\n                                            {\n                                                poslednaPoraka.procitanoOd.includes(user._id) ? '' : (<span>N</span>)\n                                            }\n                                        </div>\n                                    </div>\n                                </div>\n                            )\n\n                        }\n                    })\n                }\n\n            </div>\n        </div>\n    )\n}\n","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/ChatRight.js",["130","131","132","133","134","135","136","137","138","139","140","141"],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Messages.js",["142","143","144","145","146","147","148","149","150","151"],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Members.js",["152","153","154","155","156","157","158","159","160"],"import React, { useState, useEffect, useContext } from 'react'\nimport Avatar from 'react-avatar'\nimport { AiFillSetting } from 'react-icons/ai'\n\nimport ChatContext from '../context/chat/chatContext'\nimport AuthContext from '../context/auth/AuthContext'\nimport { zemiKorisnik } from '../help/functions';\n\nexport default function Members() {\n    const { grupa, izmeniGrupa, namestiNovaGrupa } = useContext(ChatContext);\n    const { users, najdiKorisnikPoMail, novaGrupaMsg, poslednoDodadenMail } = useContext(AuthContext);\n    const [tempKorisnici, namestiTempKorisnici] = useState([]);\n    const [semenuva, namestiSemenuva] = useState(false);\n    const [grupaNaslov, namestiGrupaNaslov] = useState('');\n    const [change, setChange] = useState(false);\n    const [email, setEmail] = useState(\"\");\n\n    const submitForm = async e => {\n        e.preventDefault();\n\n        await najdiKorisnikPoMail(email);\n        setChange(!change);\n    }\n\n    useEffect(() => {\n        if (poslednoDodadenMail) {\n            if (poslednoDodadenMail.email.trim() != \"\") {\n                let posledenEmailPostoi = tempKorisnici.some(tempkorisnik => tempkorisnik.email == poslednoDodadenMail.email);\n    \n                if (posledenEmailPostoi == false) {\n                    let noviKorisnici = tempKorisnici;\n                    noviKorisnici.push(poslednoDodadenMail);\n    \n                    namestiTempKorisnici(noviKorisnici);\n                    setEmail('');\n                }\n            }\n\n        }\n    }, [poslednoDodadenMail, change]);\n\n    useEffect(() => {\n        if (grupa) {\n            let tmails = [];\n\n            for (let i = 0; i < grupa.korisnici.length; i++) {\n                for (let j = 0; j < users.length; j++) {\n                    console.log(users[j]._id);\n                    console.log(grupa.korisnici[i]);\n                    if (grupa.korisnici[i] == users[j]._id) {\n                        console.log('isto e');\n                        tmails.push({\n                            id: users[j]._id,\n                            email: users[j].email\n                        });\n                    }\n                }\n            }\n\n            namestiTempKorisnici(tmails);\n            namestiGrupaNaslov(grupa.ime);\n        }\n        \n    }, [grupa]);\n\n    const otstraniOdTemp = async (korisnikZaB) => {\n        let noviKorisnici = tempKorisnici.filter(korisnik => korisnik.email != korisnikZaB.email);\n\n        namestiTempKorisnici(noviKorisnici);\n    }\n\n    const izmeniGrupaAsync = async () => {\n        let korisnici = tempKorisnici.map(tk => {\n            let rmId = tk.id;\n\n            if (!!tk._id) rmId = tk._id;\n\n            return rmId;\n        });\n\n        await izmeniGrupa(grupa._id, grupaNaslov, korisnici);\n\n        namestiSemenuva(false);\n        namestiNovaGrupa(true);\n    }\n\n\n    return (\n        <div className=\"members\">\n           {\n                grupa.korisnici.map(userId => {\n                    let user = zemiKorisnik(userId, users);\n\n                    return (\n                        <div key={user._id} className=\"member\">\n                            <div className=\"member-left\">\n                                <Avatar className=\"avatar\" size=\"30\" name={`${user.ime}`} />\n                                <span className=\"member-name\">{user.ime} {user.prezime}</span>\n                            </div>\n                            <div onClick={() => namestiSemenuva(true)} className=\"member-right\">\n                                <AiFillSetting color=\"#444\" size=\"20\" />\n                            </div>\n                        </div>\n                    )\n                })\n            }\n\n\n{\n                semenuva && (\n                    <div className=\"newMessage-popup\">\n                        <div className=\"newMessage-popup__inner\">\n                            <div className=\"header\">\n                                <input value={grupaNaslov} onChange={(e) => namestiGrupaNaslov(e.target.value)} className=\"header-input\" placeholder=\"Име на група\" />\n                                <span onClick={() => namestiSemenuva(false)}>&#10005;</span>\n                            </div>\n\n                            <div className=\"content\">\n                                {\n                                     (tempKorisnici && tempKorisnici.length != 0) ? (\n                                <div className=\"list\">\n                                    {\n                                        tempKorisnici.map(tempkorisnik => (\n                                        <div className=\"item\">\n                                            <p>{tempkorisnik.email}</p>\n                                            <span onClick={() => otstraniOdTemp(tempkorisnik)}>&#10005;</span>\n                                        </div>\n\n                                        ))\n                                    }\n                                </div>\n\n                                     ) : (\n                                         <p className=\"noUsers\">Нема корисници</p>\n                                     )\n                                }\n\n                                <form onSubmit={submitForm} className=\"form\">\n                                    <input value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Еmail адреса на членот...\" type=\"email\"/>\n                                    <button>+</button>\n                                </form>\n\n                                {\n                                    (tempKorisnici && tempKorisnici.length != 0) && (\n                                        <button onClick={izmeniGrupaAsync} className=\"createGroup\">Зачувај промени</button>\n                                    )\n                                }\n                                {\n                                    novaGrupaMsg && (\n                                         <div className=\"msg\">\n                                            <p>{novaGrupaMsg}</p>\n                                        </div>\n                                    )\n                                }\n                            </div>\n                        </div>\n                    </div>\n                )\n            }\n        </div>\n    )\n}\n","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/pages/PrivateRoute.js",["161","162","163"],"import React, { useContext, useEffect, useState } from 'react'\nimport Account from '../components/Account'\nimport AuthContext from '../context/auth/AuthContext'\nimport Main from './Main'\nimport Loading from '../components/Loading'\n\nexport default function PrivateRoute() {\n    const { user, namestiNajavenKorisnik } = useContext(AuthContext);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        async function namestiKorisnik(token) {\n            const loggedIn = await namestiNajavenKorisnik(token);\n            setLoading(false);\n        }\n\n        let token = \"\";\n        if (typeof localStorage.token != \"undefined\") {\n            token = localStorage.token;\n        }\n\n        if (user) {\n            //vekje logiran\n        } else {\n            if (token.trim() != \"\") {\n                namestiKorisnik(token);\n            } else {\n                setLoading(false);\n            }\n        }\n    }, []);\n\n    return (\n        <div>\n        {\n            loading ? <Loading /> : user ? (\n                    <Main />\n                ) : (\n                <div className=\"account bg-primary\">\n                    <Account />\n                </div>\n                )\n            }\n        </div>\n    )\n}","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthState.js",["164","165","166"],"import React, { useReducer } from 'react'\nimport axios from '../../axios'\n\nimport AuthContext from './AuthContext'\nimport authReducer from './AuthReducer'\nimport { SET_USER, SET_USERS, LOGOUT_USER, AUTH_ERROR, SUCCESS_REGISTER, FAIL_REGISTER, SUCCESS_LOGIN, FAIL_LOGIN, SET_ERROR, CLEAR_ERROR, CHANGE_PASSWORD_SUCCESS, CHANGE_PASSWORD_ERROR, SET_CHANGING, SET_NEWCHAT_MSG } from '../types'\nimport { setToken } from '../../help/functions'\n\nconst AuthState = props => {\n    const initState = {\n        user: null,\n        userAuth: null,\n        errors: null,\n        users: [],\n        sepromenuvaLozinka: false,\n        lozinkaPoraka: \"\",\n        novaGrupaMsg: \"\",\n        poslednoDodadenMail: \"\"\n    }\n\n    const [state, dispatch] = useReducer(authReducer, initState);\n\n    const citajKorisnici = async (users) => {\n        try {\n            const res = await axios.get('/register/users', {\n                params: {\n                    users\n                }\n            });\n\n            dispatch({\n                type: SET_USERS,\n                payload: res.data.users\n            })\n        } catch (err) {\n        }\n    }\n\n    const setError = err => {\n        dispatch({\n            type: SET_ERROR,\n            payload: err\n        })\n    }\n\n    const namestiNajavenKorisnik = async token => {\n        try {\n            setToken(token);\n            const res = await axios.get(`/auth`);\n            // ako postoi token vo localStorage, no e istecen -> izbrisi i reload.\n            if (!res.data) {\n                delete localStorage.token;\n                window.location.reload();\n            }\n\n            dispatch({\n                type: SET_USER,\n                payload: res.data\n            })\n        } catch (err) {\n            if (err.response && err.response.status == 401) {\n                // nenajaven\n                delete localStorage.token;\n            }\n\n            dispatch({\n                type: AUTH_ERROR,\n                payload: err.response ? err.response.data : ''\n            })\n        }\n    }\n\n\n    //najava - registracija\n\n    const registrirajSe = async user => {\n\n        const config = {\n            header: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.post(`/register`, user, config);\n\n            dispatch({\n                type: SUCCESS_REGISTER,\n                payload: res.data\n            })\n\n            namestiNajavenKorisnik(res.data.token);\n        } catch (err) {\n            let errorMsg = '';\n            if (err.response.data.errors.constructor === Array) {\n                errorMsg = err.response.data.errors[0].msg;\n            } else {\n                errorMsg = err.response.data.errors.msg;\n            }\n            if (err.response) {\n                dispatch({\n                    type: FAIL_REGISTER,\n                    payload: errorMsg\n                })\n            }\n        }\n    }\n\n    const odlogirajSe = () => {\n        localStorage.removeItem(\"token\");\n\n        dispatch({\n            type: LOGOUT_USER,\n            payload: localStorage.token\n        })\n    }\n\n    const logirajSe = async user => {\n        const config = {\n            header: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.post(`/auth`, user, config);\n            dispatch({\n                type: SUCCESS_LOGIN,\n                payload: res.data\n            })\n\n            namestiNajavenKorisnik(res.data.token);\n        } catch (err) {\n            if (err) {\n                // console.log(err.response);\n                let errorMsg = '';\n        \n                if (err.response.data.errors.constructor === Array) {\n                    errorMsg = err.response.data.errors[0].msg;\n                } else {\n                    errorMsg = err.response.data.errors.msg;\n                }\n                if (err.response) {\n                    dispatch({\n                        type: FAIL_LOGIN,\n                        payload: errorMsg\n                    })\n                }\n            }\n        }\n    }\n\n    const promeniLozinka = async lozinki => {\n        try {\n            const res = await axios.post(`/auth/${state.user._id}`, lozinki);\n\n            dispatch({\n                type: CHANGE_PASSWORD_SUCCESS\n            })\n\n            window.location.reload(false);\n\n        } catch (err) {\n            dispatch({\n                type: CHANGE_PASSWORD_ERROR,\n                payload: err.response.data.err || err.response.data.msg\n            })\n        }\n    }\n\n    const setChanging = (temp) => {\n        dispatch({\n            type: SET_CHANGING,\n            payload: temp\n        })\n    }\n    const najdiKorisnikPoMail = async email => {\n        try {\n            const res = await axios.get(`/auth/${email}`);\n\n            dispatch({\n                type: SET_NEWCHAT_MSG,\n                payload: {\n                    msg: res.data.msg,\n                    email: res.data.user\n                }\n            })\n        } catch (err) {\n            dispatch({\n                type: SET_NEWCHAT_MSG,\n                payload: {\n                    msg: err.response.data.msg,\n                    email: \"\"\n                }\n            })\n        }\n    }\n\n\n    return (\n        <AuthContext.Provider value={{\n            user: state.user,\n            userAuth: state.userAuth,\n            errors: state.errors,\n            users: state.users,\n            lozinkaPoraka: state.lozinkaPoraka,\n            sepromenuvaLozinka: state.sepromenuvaLozinka,\n            novaGrupaMsg: state.novaGrupaMsg,\n            poslednoDodadenMail: state.poslednoDodadenMail,\n            namestiNajavenKorisnik,\n            citajKorisnici,\n            logirajSe,\n            registrirajSe,\n            odlogirajSe,\n            setError,\n            promeniLozinka,\n            setChanging,\n            najdiKorisnikPoMail\n        }}>\n            {props.children}\n        </AuthContext.Provider>\n    )\n}\n\nexport default AuthState;","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthContext.js",[],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/types.js",[],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthReducer.js",["167"],"import { SET_USER, SET_USERS, SET_NEWCHAT_MSG, LOGOUT_USER, AUTH_ERROR, SUCCESS_REGISTER, FAIL_REGISTER, SUCCESS_LOGIN, FAIL_LOGIN, SET_ERROR, CLEAR_ERROR, SET_CHANGING,  CHANGE_PASSWORD_ERROR, CHANGE_PASSWORD_SUCCESS } from '../types'\n\nexport default (state, action) => {\n    switch (action.type) {\n        case SUCCESS_REGISTER:\n        case SUCCESS_LOGIN:\n            localStorage.setItem('token', action.payload.token);\n            return {\n                ...state,\n                userAuth: true,\n                errors: null\n            }\n        case LOGOUT_USER:\n            return {\n                userAuth: null,\n                user: null,\n                sepromenuvaLozinka: false,\n                errors: null,\n            }\n        case FAIL_REGISTER:\n        case FAIL_LOGIN:\n        case AUTH_ERROR:\n            if (action.payload) {\n                // localStorage.removeItem(\"token\");\n                return {\n                    ...state,\n                    userAuth: null,\n                    errors: action.payload,\n                    user: null,\n                    lozinkaPoraka: \"\"\n                }\n            }\n            break;\n        case CHANGE_PASSWORD_ERROR:\n            return {\n                ...state,\n                errors: action.payload,\n                lozinkaPoraka: \"\"\n            }\n        case CHANGE_PASSWORD_SUCCESS:\n            return {\n                ...state,\n                errors: null,\n                user: action.payload,\n                userAuth: true,\n                lozinkaPoraka: \"Лозинката е успешно променета\"\n            }\n        case SET_ERROR:\n            return {\n                ...state,\n                errors: action.payload\n            }\n        case CLEAR_ERROR:\n            return {\n                ...state,\n                errors: null\n            }\n        case SET_USER:\n            return {\n                ...state,\n                userAuth: true,\n                user: action.payload,\n                errors: null,\n                sepromenuvaLozinka: false\n            }\n        case SET_USERS:\n            return {\n                ...state,\n                errors: null,\n                users: action.payload\n            }\n        case SET_CHANGING: {\n            return {\n                ...state,\n                sepromenuvaLozinka: action.payload\n            }\n        }\n\n        case SET_NEWCHAT_MSG: \n        return {\n            ...state,\n            users: [...state.users, action.payload.email],\n            novaGrupaMsg: action.payload.msg,\n            poslednoDodadenMail: action.payload.email\n        }\n\n        default:\n            return state;\n    }\n}","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/help/functions.js",["168","169","170"],"import axios from '../axios'\n\nexport const setToken = token => {\n    if (token) {\n        axios.defaults.headers.common['auth-token'] = token;\n\n    } else {\n        delete axios.defaults.headers.common[\"auth-token\"];\n    }\n}\n\n\nexport const zemiKorisnik = (userId, korisnici) => {\n    if (userId) {\n        return korisnici.filter(user => user._id == userId)[0];\n\n    } else {\n        return [];\n    }\n} \n\nexport const zemiSiteGrupi = (userId, grupi) => {\n    let tempGrupi = grupi.map(grupa => {\n        if (grupa.korisnici.includes(userId)) return grupa;\n    });\n\n    var sortiraniGrupi = tempGrupi.sort((a,b) => (a.poslednaPoraka < b.poslednaPoraka) ? 1 : ((b.poslednaPoraka < a.poslednaPoraka) ? -1 : 0));\n    \n    return sortiraniGrupi;\n}\n\nexport const zemiSitePoraki = (grupa, poraki) => {\n    console.log(poraki);\n    if (poraki) {\n        return poraki.filter(poraka => poraka.grupa === grupa);\n    } else {\n        return [];\n    }\n}\n\nexport const zemiKorisnikPoraka = (isprakjac, korisnici) => {\n    if (isprakjac && korisnici) {\n        return korisnici.filter(korisnik => korisnik._id == isprakjac)[0];\n    } else {\n        return [];\n    }\n} ","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/axios.js",["171"],"import axios from 'axios'\n\nconst instance = axios.create({\n    baseURL: process.env.NODE_ENV == \"production\" ? \"https://dchat-backend.herokuapp.com/\" : \"http://localhost:5000/\"\n})\n\nexport default instance","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Loading.js",[],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatState.js",["172","173","174","175","176"],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatContext.js",[],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatReducer.js",["177","178","179","180","181","182","183","184","185","186","187","188","189","190","191"],"import {\n    SET_ERROR,\n    CLEAR_ERROR,\n    SUCCESS_ADD_MESSAGE,\n    SET_MESSAGES,\n    SET_GROUP,\n    SET_GROUPS,\n    SET_ACTIVE_MESSAGES,\n    ADD_NEW_GROUP,\n    UPDATE_GROUP,\n    SUCCESS_CHANGE_GROUP,\n    SET_NEW_GROUP,\n    SUCCESS_DELETE_MESSAGE,\n    SET_SEEN_MESSAGE,\n    SET_SEEN_GROUP\n} from '../types'\n\nexport default (state, action) => {\n    switch (action.type) {\n        case SET_GROUP:\n            return {\n                ...state,\n                grupa: action.payload\n            }\n        case SET_GROUPS:\n            const sortiraniGrupi = action.payload.sort((a,b) => (a.poslednaPoraka < b.poslednaPoraka) ? 1 : ((b.poslednaPoraka < a.poslednaPoraka) ? -1 : 0));\n            return {\n                ...state,\n                grupi: sortiraniGrupi,\n                osveziGrupi: false\n            }\n        case UPDATE_GROUP:\n            var grupiPredUpdate = state.grupi;\n\n            for (let i = 0; i < grupiPredUpdate.length; i++) {\n                if (grupiPredUpdate[i]._id == action.payload.grupa) {\n                    grupiPredUpdate[i].poslednaPoraka = new Date().getTime();\n                }\n            }\n\n            const sortiraniGrupiUpdate = grupiPredUpdate.sort((a,b) => (a.poslednaPoraka < b.poslednaPoraka) ? 1 : ((b.poslednaPoraka < a.poslednaPoraka) ? -1 : 0));\n\n            const porakiSoNajnovaId = state.poraki.map(poraka => {\n                if (!poraka._id) {\n                    console.log('nema id');\n                    if (poraka.isprakjac == action.payload.isprakjac && action.payload.sodrzina == poraka.sodrzina) {\n                        console.log('isto e se');\n\n                        poraka._id = action.payload.id;\n                    }\n                }\n\n                return poraka;\n            })\n\n            return {\n                ...state,\n                poraki: porakiSoNajnovaId,\n                grupi: sortiraniGrupiUpdate\n            }\n        case SUCCESS_CHANGE_GROUP:\n            // console.log(action.payload);\n            let promenetiGrupi = state.grupi.map(grupa => {\n                if (grupa._id == action.payload._id) {\n                    grupa = action.payload;\n                }\n\n                return grupa;\n            })\n\n            // console.log(promenetiGrupi);\n            return {\n                ...state,\n                grupi: promenetiGrupi,\n                grupa: action.payload\n            }\n        case ADD_NEW_GROUP:\n            return {\n                ...state,\n                grupi: [...state.grupi, action.payload],\n                grupa: action.payload\n            }\n        case SUCCESS_ADD_MESSAGE: \n        var grupiPredUpdate1 = state.grupi;\n\n        var grupaInfo = grupiPredUpdate1.filter(r => r._id == action.payload.grupa);\n\n        var osveziGrupi = false;\n        if (grupaInfo.length == 0) {\n            osveziGrupi=true;\n        }\n\n            for (let i = 0; i < grupiPredUpdate1.length; i++) {\n                if (grupiPredUpdate1[i]._id == action.payload.grupa) {\n                    grupiPredUpdate1[i].poslednaPoraka = new Date().getTime();\n                }\n            }\n\n            const sortiraniGrupiPredUpdate = grupiPredUpdate1.sort((a,b) => (a.poslednaPoraka < b.poslednaPoraka) ? 1 : ((b.poslednaPoraka < a.poslednaPoraka) ? -1 : 0));\n\n        return {\n            ...state,\n            poraki: [...state.poraki, action.payload],\n            aktivniPoraki: [...state.aktivniPoraki, action.payload],\n            error: null,\n            grupi: sortiraniGrupiPredUpdate,\n            osveziGrupi\n        }\n     \n        case SET_NEW_GROUP:\n            return {\n                ...state,\n                novaGrupa: action.payload\n            }\n        break;\n        case SET_MESSAGES:\n           \n            return {\n                ...state,\n                poraki: action.payload,\n                error: null\n            }\n        case SET_ERROR:\n            return {\n                ...state,\n                error: action.payload\n            }\n        case CLEAR_ERROR:\n            return {\n                ...state,\n                error: null\n            }\n        case SET_ACTIVE_MESSAGES:\n            return {\n                ...state,\n                aktivniPoraki: action.payload\n            }\n        case SET_SEEN_MESSAGE:\n            let porakiSoSeen = state.poraki;\n            let aktivniSoSeen = state.aktivniPoraki;\n            porakiSoSeen = porakiSoSeen.map(poraka => {\n                if (poraka._id == action.payload.poraka) {\n                    poraka.procitanoOd.push(action.payload.korisnik);\n                }\n\n                return poraka;\n            });\n\n            aktivniSoSeen = aktivniSoSeen.map(poraka => {\n                if (poraka._id == action.payload.poraka) {\n                    poraka.procitanoOd.push(action.payload.korisnik);\n                }\n\n                return poraka;\n            });\n            let promeniGrupi = state.grupi;\n\n            promeniGrupi = promeniGrupi.map(grupa => {\n                if (grupa.korisnici.includes(action.payload.korisnik)) {\n                    grupa.promeni = !grupa.promeni;\n                }\n\n                return grupa;\n            })\n\n            return {\n                ...state,\n                poraki: porakiSoSeen,\n                aktivniPoraki: aktivniSoSeen,\n                grupi: promeniGrupi\n            }\n        case SET_SEEN_GROUP:\n            let procitaniPoraki = state.poraki;\n            let procitaniAktivniPoraki = state.aktivniPoraki;\n\n            procitaniPoraki = procitaniPoraki.map(poraka => {\n                if (poraka.grupa == action.payload.grupa) {\n                    if (poraka.procitanoOd && !poraka.procitanoOd.includes(action.payload.korisnik)) {\n                        //ne e procitana\n                        poraka.procitanoOd.push(action.payload.korisnik);\n                    } else {\n                        console.log('ili e procitana ili nema procitanoOd');\n                    }\n                }\n\n                return poraka;\n            })\n\n            procitaniAktivniPoraki = procitaniAktivniPoraki.map(poraka => {\n                if (poraka.grupa == action.payload.grupa) {\n                    if (poraka.procitanoOd && !poraka.procitanoOd.includes(action.payload.korisnik)) {\n                        //ne e procitana\n                        poraka.procitanoOd.push(action.payload.korisnik);\n                    } else {\n                        console.log('ili e procitana ili nema procitanoOd');\n                    }\n                }\n\n                return poraka;\n            })\n\n            return {\n                ...state,\n                poraki: procitaniPoraki,\n                aktivniPoraki: procitaniAktivniPoraki\n            }\n        break;\n        default:\n            return state;\n    }\n}","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/help/sockets.js",["192"],{"ruleId":"193","replacedBy":"194"},{"ruleId":"195","replacedBy":"196"},{"ruleId":"197","severity":1,"message":"198","line":1,"column":17,"nodeType":"199","messageId":"200","endLine":1,"endColumn":26},{"ruleId":"197","severity":1,"message":"201","line":6,"column":47,"nodeType":"199","messageId":"200","endLine":6,"endColumn":55},{"ruleId":"197","severity":1,"message":"202","line":30,"column":15,"nodeType":"199","messageId":"200","endLine":30,"endColumn":22},{"ruleId":"197","severity":1,"message":"203","line":45,"column":15,"nodeType":"199","messageId":"200","endLine":45,"endColumn":26},{"ruleId":"204","severity":1,"message":"205","line":63,"column":33,"nodeType":"206","endLine":63,"endColumn":116},{"ruleId":"204","severity":1,"message":"205","line":80,"column":37,"nodeType":"206","endLine":80,"endColumn":119},{"ruleId":"197","severity":1,"message":"207","line":12,"column":12,"nodeType":"199","messageId":"200","endLine":12,"endColumn":17},{"ruleId":"197","severity":1,"message":"208","line":12,"column":19,"nodeType":"199","messageId":"200","endLine":12,"endColumn":27},{"ruleId":"197","severity":1,"message":"209","line":14,"column":19,"nodeType":"199","messageId":"200","endLine":14,"endColumn":24},{"ruleId":"197","severity":1,"message":"210","line":15,"column":42,"nodeType":"199","messageId":"200","endLine":15,"endColumn":53},{"ruleId":"211","severity":1,"message":"212","line":24,"column":8,"nodeType":"213","endLine":24,"endColumn":10,"suggestions":"214"},{"ruleId":"197","severity":1,"message":"215","line":28,"column":19,"nodeType":"199","messageId":"200","endLine":28,"endColumn":24},{"ruleId":"211","severity":1,"message":"216","line":33,"column":8,"nodeType":"213","endLine":33,"endColumn":10,"suggestions":"217"},{"ruleId":"211","severity":1,"message":"216","line":45,"column":8,"nodeType":"213","endLine":45,"endColumn":21,"suggestions":"218"},{"ruleId":"219","severity":1,"message":"220","line":48,"column":35,"nodeType":"221","messageId":"222","endLine":48,"endColumn":37},{"ruleId":"219","severity":1,"message":"223","line":56,"column":88,"nodeType":"221","messageId":"222","endLine":56,"endColumn":90},{"ruleId":"211","severity":1,"message":"224","line":68,"column":8,"nodeType":"213","endLine":68,"endColumn":15,"suggestions":"225"},{"ruleId":"197","severity":1,"message":"226","line":37,"column":13,"nodeType":"199","messageId":"200","endLine":37,"endColumn":18},{"ruleId":"219","severity":1,"message":"220","line":100,"column":52,"nodeType":"221","messageId":"222","endLine":100,"endColumn":54},{"ruleId":"219","severity":1,"message":"220","line":36,"column":50,"nodeType":"221","messageId":"222","endLine":36,"endColumn":52},{"ruleId":"219","severity":1,"message":"223","line":37,"column":96,"nodeType":"221","messageId":"222","endLine":37,"endColumn":98},{"ruleId":"219","severity":1,"message":"223","line":39,"column":40,"nodeType":"221","messageId":"222","endLine":39,"endColumn":42},{"ruleId":"211","severity":1,"message":"227","line":49,"column":8,"nodeType":"213","endLine":49,"endColumn":37,"suggestions":"228"},{"ruleId":"219","severity":1,"message":"223","line":54,"column":49,"nodeType":"221","messageId":"222","endLine":54,"endColumn":51},{"ruleId":"219","severity":1,"message":"220","line":66,"column":85,"nodeType":"221","messageId":"222","endLine":66,"endColumn":87},{"ruleId":"219","severity":1,"message":"220","line":111,"column":76,"nodeType":"221","messageId":"222","endLine":111,"endColumn":78},{"ruleId":"229","severity":1,"message":"230","line":130,"column":37,"nodeType":"231","messageId":"232","endLine":130,"endColumn":39},{"ruleId":"219","severity":1,"message":"220","line":143,"column":52,"nodeType":"221","messageId":"222","endLine":143,"endColumn":54},{"ruleId":"219","severity":1,"message":"223","line":155,"column":207,"nodeType":"221","messageId":"222","endLine":155,"endColumn":209},{"ruleId":"197","severity":1,"message":"233","line":23,"column":13,"nodeType":"199","messageId":"200","endLine":23,"endColumn":23},{"ruleId":"197","severity":1,"message":"234","line":23,"column":51,"nodeType":"199","messageId":"200","endLine":23,"endColumn":57},{"ruleId":"219","severity":1,"message":"220","line":34,"column":29,"nodeType":"221","messageId":"222","endLine":34,"endColumn":31},{"ruleId":"219","severity":1,"message":"220","line":44,"column":27,"nodeType":"221","messageId":"222","endLine":44,"endColumn":29},{"ruleId":"219","severity":1,"message":"223","line":46,"column":38,"nodeType":"221","messageId":"222","endLine":46,"endColumn":40},{"ruleId":"219","severity":1,"message":"223","line":46,"column":56,"nodeType":"221","messageId":"222","endLine":46,"endColumn":58},{"ruleId":"219","severity":1,"message":"220","line":60,"column":31,"nodeType":"221","messageId":"222","endLine":60,"endColumn":33},{"ruleId":"219","severity":1,"message":"223","line":114,"column":87,"nodeType":"221","messageId":"222","endLine":114,"endColumn":89},{"ruleId":"219","severity":1,"message":"223","line":117,"column":87,"nodeType":"221","messageId":"222","endLine":117,"endColumn":89},{"ruleId":"219","severity":1,"message":"223","line":124,"column":25,"nodeType":"221","messageId":"222","endLine":124,"endColumn":27},{"ruleId":"219","severity":1,"message":"223","line":132,"column":25,"nodeType":"221","messageId":"222","endLine":132,"endColumn":27},{"ruleId":"235","severity":1,"message":"236","line":135,"column":122,"nodeType":"237","endLine":135,"endColumn":169},{"ruleId":"197","severity":1,"message":"238","line":1,"column":17,"nodeType":"199","messageId":"200","endLine":1,"endColumn":25},{"ruleId":"197","severity":1,"message":"239","line":11,"column":11,"nodeType":"199","messageId":"200","endLine":11,"endColumn":25},{"ruleId":"229","severity":1,"message":"230","line":25,"column":57,"nodeType":"231","messageId":"232","endLine":25,"endColumn":59},{"ruleId":"219","severity":1,"message":"220","line":31,"column":94,"nodeType":"221","messageId":"222","endLine":31,"endColumn":96},{"ruleId":"219","severity":1,"message":"223","line":40,"column":74,"nodeType":"221","messageId":"222","endLine":40,"endColumn":76},{"ruleId":"219","severity":1,"message":"223","line":44,"column":42,"nodeType":"221","messageId":"222","endLine":44,"endColumn":44},{"ruleId":"219","severity":1,"message":"223","line":45,"column":38,"nodeType":"221","messageId":"222","endLine":45,"endColumn":40},{"ruleId":"235","severity":1,"message":"236","line":49,"column":124,"nodeType":"237","endLine":49,"endColumn":133},{"ruleId":"219","severity":1,"message":"223","line":57,"column":58,"nodeType":"221","messageId":"222","endLine":57,"endColumn":60},{"ruleId":"219","severity":1,"message":"220","line":57,"column":108,"nodeType":"221","messageId":"222","endLine":57,"endColumn":110},{"ruleId":"219","severity":1,"message":"220","line":27,"column":50,"nodeType":"221","messageId":"222","endLine":27,"endColumn":52},{"ruleId":"219","severity":1,"message":"223","line":28,"column":97,"nodeType":"221","messageId":"222","endLine":28,"endColumn":99},{"ruleId":"219","severity":1,"message":"223","line":30,"column":41,"nodeType":"221","messageId":"222","endLine":30,"endColumn":43},{"ruleId":"211","severity":1,"message":"227","line":40,"column":8,"nodeType":"213","endLine":40,"endColumn":37,"suggestions":"240"},{"ruleId":"219","severity":1,"message":"223","line":50,"column":44,"nodeType":"221","messageId":"222","endLine":50,"endColumn":46},{"ruleId":"211","severity":1,"message":"241","line":64,"column":8,"nodeType":"213","endLine":64,"endColumn":15,"suggestions":"242"},{"ruleId":"219","severity":1,"message":"220","line":67,"column":77,"nodeType":"221","messageId":"222","endLine":67,"endColumn":79},{"ruleId":"219","severity":1,"message":"220","line":120,"column":77,"nodeType":"221","messageId":"222","endLine":120,"endColumn":79},{"ruleId":"219","severity":1,"message":"220","line":144,"column":76,"nodeType":"221","messageId":"222","endLine":144,"endColumn":78},{"ruleId":"197","severity":1,"message":"243","line":13,"column":19,"nodeType":"199","messageId":"200","endLine":13,"endColumn":27},{"ruleId":"219","severity":1,"message":"220","line":25,"column":30,"nodeType":"221","messageId":"222","endLine":25,"endColumn":32},{"ruleId":"211","severity":1,"message":"244","line":31,"column":8,"nodeType":"213","endLine":31,"endColumn":10,"suggestions":"245"},{"ruleId":"197","severity":1,"message":"246","line":6,"column":127,"nodeType":"199","messageId":"200","endLine":6,"endColumn":138},{"ruleId":"219","severity":1,"message":"223","line":61,"column":53,"nodeType":"221","messageId":"222","endLine":61,"endColumn":55},{"ruleId":"197","severity":1,"message":"247","line":155,"column":19,"nodeType":"199","messageId":"200","endLine":155,"endColumn":22},{"ruleId":"248","severity":1,"message":"249","line":3,"column":1,"nodeType":"250","endLine":90,"endColumn":2},{"ruleId":"219","severity":1,"message":"223","line":15,"column":50,"nodeType":"221","messageId":"222","endLine":15,"endColumn":52},{"ruleId":"229","severity":1,"message":"230","line":23,"column":37,"nodeType":"231","messageId":"232","endLine":23,"endColumn":39},{"ruleId":"219","severity":1,"message":"223","line":43,"column":58,"nodeType":"221","messageId":"222","endLine":43,"endColumn":60},{"ruleId":"219","severity":1,"message":"223","line":4,"column":35,"nodeType":"221","messageId":"222","endLine":4,"endColumn":37},{"ruleId":"197","severity":1,"message":"246","line":7,"column":5,"nodeType":"199","messageId":"200","endLine":7,"endColumn":16},{"ruleId":"197","severity":1,"message":"251","line":21,"column":9,"nodeType":"199","messageId":"200","endLine":21,"endColumn":17},{"ruleId":"197","severity":1,"message":"209","line":93,"column":15,"nodeType":"199","messageId":"200","endLine":93,"endColumn":20},{"ruleId":"197","severity":1,"message":"252","line":93,"column":22,"nodeType":"199","messageId":"200","endLine":93,"endColumn":30},{"ruleId":"197","severity":1,"message":"247","line":175,"column":19,"nodeType":"199","messageId":"200","endLine":175,"endColumn":22},{"ruleId":"197","severity":1,"message":"253","line":13,"column":5,"nodeType":"199","messageId":"200","endLine":13,"endColumn":27},{"ruleId":"248","severity":1,"message":"249","line":18,"column":1,"nodeType":"250","endLine":211,"endColumn":2},{"ruleId":"219","severity":1,"message":"223","line":36,"column":44,"nodeType":"221","messageId":"222","endLine":36,"endColumn":46},{"ruleId":"219","severity":1,"message":"223","line":46,"column":42,"nodeType":"221","messageId":"222","endLine":46,"endColumn":44},{"ruleId":"219","severity":1,"message":"223","line":46,"column":97,"nodeType":"221","messageId":"222","endLine":46,"endColumn":99},{"ruleId":"219","severity":1,"message":"223","line":64,"column":31,"nodeType":"221","messageId":"222","endLine":64,"endColumn":33},{"ruleId":"219","severity":1,"message":"223","line":86,"column":60,"nodeType":"221","messageId":"222","endLine":86,"endColumn":62},{"ruleId":"219","severity":1,"message":"223","line":89,"column":30,"nodeType":"221","messageId":"222","endLine":89,"endColumn":32},{"ruleId":"219","severity":1,"message":"223","line":94,"column":45,"nodeType":"221","messageId":"222","endLine":94,"endColumn":47},{"ruleId":"254","severity":1,"message":"255","line":115,"column":9,"nodeType":"256","messageId":"257","endLine":115,"endColumn":15},{"ruleId":"219","severity":1,"message":"223","line":142,"column":32,"nodeType":"221","messageId":"222","endLine":142,"endColumn":34},{"ruleId":"219","severity":1,"message":"223","line":150,"column":32,"nodeType":"221","messageId":"222","endLine":150,"endColumn":34},{"ruleId":"219","severity":1,"message":"223","line":177,"column":34,"nodeType":"221","messageId":"222","endLine":177,"endColumn":36},{"ruleId":"219","severity":1,"message":"223","line":190,"column":34,"nodeType":"221","messageId":"222","endLine":190,"endColumn":36},{"ruleId":"254","severity":1,"message":"255","line":207,"column":9,"nodeType":"256","messageId":"257","endLine":207,"endColumn":15},{"ruleId":"219","severity":1,"message":"223","line":5,"column":36,"nodeType":"221","messageId":"222","endLine":5,"endColumn":38},"no-native-reassign",["258"],"no-negated-in-lhs",["259"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'setError' is assigned a value but never used.","'logiran' is assigned a value but never used.","'registriran' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'chats' is assigned a value but never used.","'setChats' is assigned a value but never used.","'grupa' is assigned a value but never used.","'setChanging' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'vmetniPoraka'. Either include it or remove the dependency array.","ArrayExpression",["260"],"'grupi' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'user._id' and 'zemiGrupi'. Either include them or remove the dependency array.",["261"],["262"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","React Hook useEffect has missing dependencies: 'citajKorisnici', 'user._id', and 'zemiPoraki'. Either include them or remove the dependency array.",["263"],"'saved' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'tempKorisnici'. Either include it or remove the dependency array.",["264"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'zemiPoraki' is assigned a value but never used.","'poraki' is assigned a value but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'useState' is defined but never used.","'messagesEndRef' is assigned a value but never used.",["265"],"React Hook useEffect has a missing dependency: 'users'. Either include it or remove the dependency array.",["266"],"'loggedIn' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'namestiNajavenKorisnik' and 'user'. Either include them or remove the dependency array.",["267"],"'CLEAR_ERROR' is defined but never used.","'res' is assigned a value but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'setToken' is defined but never used.","'sodrzina' is assigned a value but never used.","'SUCCESS_DELETE_MESSAGE' is defined but never used.","no-unreachable","Unreachable code.","BreakStatement","unreachableCode","no-global-assign","no-unsafe-negation",{"desc":"268","fix":"269"},{"desc":"270","fix":"271"},{"desc":"272","fix":"273"},{"desc":"274","fix":"275"},{"desc":"276","fix":"277"},{"desc":"276","fix":"278"},{"desc":"279","fix":"280"},{"desc":"281","fix":"282"},"Update the dependencies array to be: [vmetniPoraka]",{"range":"283","text":"284"},"Update the dependencies array to be: [user._id, zemiGrupi]",{"range":"285","text":"286"},"Update the dependencies array to be: [osveziGrupi, user._id, zemiGrupi]",{"range":"287","text":"288"},"Update the dependencies array to be: [citajKorisnici, grupi, user._id, zemiPoraki]",{"range":"289","text":"290"},"Update the dependencies array to be: [poslednoDodadenMail, change, tempKorisnici]",{"range":"291","text":"292"},{"range":"293","text":"292"},"Update the dependencies array to be: [grupa, users]",{"range":"294","text":"295"},"Update the dependencies array to be: [namestiNajavenKorisnik, user]",{"range":"296","text":"297"},[926,928],"[vmetniPoraka]",[1114,1116],"[user._id, zemiGrupi]",[1410,1423],"[osveziGrupi, user._id, zemiGrupi]",[2223,2230],"[citajKorisnici, grupi, user._id, zemiPoraki]",[1743,1772],"[poslednoDodadenMail, change, tempKorisnici]",[1499,1528],[2262,2269],"[grupa, users]",[933,935],"[namestiNajavenKorisnik, user]"]