[{"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/index.js":"1","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/App.js":"2","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Account.js":"3","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/pages/Main.js":"4","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/TopMenu.js":"5","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/ChatSide.js":"6","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/ChatRight.js":"7","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Messages.js":"8","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Members.js":"9","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/pages/PrivateRoute.js":"10","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthState.js":"11","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthContext.js":"12","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/types.js":"13","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthReducer.js":"14","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/help/functions.js":"15","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/axios.js":"16","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Loading.js":"17","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatState.js":"18","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatContext.js":"19","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatReducer.js":"20","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/help/sockets.js":"21"},{"size":197,"mtime":1608465200416,"results":"22","hashOfConfig":"23"},{"size":420,"mtime":1609802409119,"results":"24","hashOfConfig":"23"},{"size":4382,"mtime":1609100471078,"results":"25","hashOfConfig":"23"},{"size":2515,"mtime":1611259424663,"results":"26","hashOfConfig":"23"},{"size":5164,"mtime":1609362551147,"results":"27","hashOfConfig":"23"},{"size":8186,"mtime":1610838127197,"results":"28","hashOfConfig":"23"},{"size":5776,"mtime":1611258648077,"results":"29","hashOfConfig":"23"},{"size":3476,"mtime":1611259015420,"results":"30","hashOfConfig":"23"},{"size":6293,"mtime":1609682712577,"results":"31","hashOfConfig":"23"},{"size":1234,"mtime":1609091900120,"results":"32","hashOfConfig":"23"},{"size":6061,"mtime":1611257530057,"results":"33","hashOfConfig":"23"},{"size":104,"mtime":1609091365557,"results":"34","hashOfConfig":"23"},{"size":1333,"mtime":1610914566450,"results":"35","hashOfConfig":"23"},{"size":2681,"mtime":1609683652664,"results":"36","hashOfConfig":"23"},{"size":1129,"mtime":1611174657137,"results":"37","hashOfConfig":"23"},{"size":204,"mtime":1609802427019,"results":"38","hashOfConfig":"23"},{"size":406,"mtime":1611209456884,"results":"39","hashOfConfig":"23"},{"size":5473,"mtime":1611207532547,"results":"40","hashOfConfig":"23"},{"size":104,"mtime":1609219721518,"results":"41","hashOfConfig":"23"},{"size":7904,"mtime":1610915315720,"results":"42","hashOfConfig":"23"},{"size":1325,"mtime":1611207335887,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1vno2oc",{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"46"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"46"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"46"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"46"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"46"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"46"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"46"},"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/index.js",[],["99","100"],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/App.js",["101"],"import React, { useEffect } from 'react'\nimport AuthState from './context/auth/AuthState'\nimport ChatState from './context/chat/chatState'\nimport PrivateRoute from './pages/PrivateRoute'\n\n//styles\nimport \"./custom.scss\"\n\nfunction App() {\n  return (\n    <AuthState>\n      <ChatState>\n        <div className=\"dchat\">\n          <PrivateRoute />\n        </div>\n      </ChatState>\n    </AuthState>\n  );\n}\n\nexport default App;","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Account.js",["102","103","104","105","106"],"import React, { useState, useContext } from 'react'\nimport AuthContext from '../context/auth/AuthContext';\n\nexport default function Account() {\n    //context promenlivi\n    const { logirajSe, registrirajSe, errors, setError, sepromenuvaLozinka } = useContext(AuthContext);\n\n    //Login promenlivi:\n    const [email, setEmail] = useState(\"\");\n    const [lozinka, namestiLozinka] = useState(\"\");\n\n    //Register promenlivi:\n    const [ime, namestiIme] = useState(\"\");\n    const [prezime, namestiPrezime] = useState(\"\");\n    const [telefon, namestiTelefon] = useState(\"\");\n    const [emailRegister, setEmailRegister] = useState(\"\");\n    const [passwordRegister, setPasswordRegister] = useState(\"\");\n\n    // koj screen da se prikazi:\n    const [loginForm, setLoginForm] = useState(true);\n\n    // najavi se\n    const submitLogin = async (e) => {\n        e.preventDefault();\n        const user = {\n            email,\n            lozinka\n        }\n\n        const logiran = await logirajSe(user);\n    }\n\n    //registriraj se\n    const submitRegister = async (e) => {\n        e.preventDefault();\n\n        const user = {\n            email: emailRegister,\n            lozinka: passwordRegister,\n            ime,\n            prezime,\n            telefon\n        }\n\n        const registriran = await registrirajSe(user);\n\n    }\n\n    if (sepromenuvaLozinka === false) {\n        return (\n            <div className=\"account-form\">\n                <div className=\"account-form__header\">\n                    <h2>{loginForm ? 'Најави се' : 'Регистрација'}</h2>\n                </div>\n                <div className=\"account-form__inner\">\n                    {\n                        loginForm ? (\n                            <form onSubmit={submitLogin}>\n                                <input value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Е-mail адреса\" type=\"text\" />\n                                <input value={lozinka} onChange={(e) => namestiLozinka(e.target.value)} placeholder=\"Лозинка\" type=\"password\" />\n                                <button type=\"submit\">Најава</button>\n\n                                <a className=\"pointer hover-text-primary\" onClick={() => { setLoginForm(false); }}>Регистрирај се</a>\n\n                                {\n                                    errors && (\n                                        <div className=\"error-msg\">\n                                            <p>{errors}</p>\n                                        </div>\n                                    )\n                                }\n                            </form>) : (\n                                <form onSubmit={submitRegister}>\n                                    <input value={ime} onChange={(e) => namestiIme(e.target.value)} placeholder=\"Вашето име\" type=\"text\" />\n                                    <input value={prezime} onChange={(e) => namestiPrezime(e.target.value)} placeholder=\"Вашето презиме\" type=\"text\" />\n                                    <input value={telefon} onChange={(e) => namestiTelefon(e.target.value)} placeholder=\"Телефонски број\" type=\"text\" />\n                                    <input value={emailRegister} onChange={(e) => setEmailRegister(e.target.value)} placeholder=\"Е-mail адреса\" type=\"text\" />\n                                    <input value={passwordRegister} onChange={(e) => setPasswordRegister(e.target.value)} placeholder=\"Лозинка\" type=\"password\" />\n                                    <button type=\"submit\">Регистрирај се</button>\n                                    <a className=\"pointer hover-text-primary\" onClick={() => { setLoginForm(true); }}>Најава</a>\n\n                                    {\n                                        errors && (\n                                            <div className=\"error-msg\">\n                                                <p>{errors}</p>\n                                            </div>\n                                        )\n                                    }\n                                </form>\n                            )\n                    }\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <h4 className=\"text-white\">Се зачувува...</h4>\n        )\n    }\n}\n","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/pages/Main.js",["107","108","109","110","111","112","113","114","115","116","117"],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/TopMenu.js",["118","119"],"import React, {useContext, useState} from 'react'\n\nimport Avatar from 'react-avatar'\nimport {MdChat} from 'react-icons/md'\nimport { GrFormDown } from 'react-icons/gr'\nimport AuthContext from '../context/auth/AuthContext'\n\n\nexport default function TopMenu() {\n    const { odlogirajSe, promeniLozinka, setChanging, errors, lozinkaPoraka, user } = useContext(AuthContext);\n    const [settings, setSettings] = useState(false);\n    const [popup, setPopup] = useState(false);\n    const [loadingBtn, setLoadingBtn] = useState(false);\n    const [lozinki, namestiLozinki] = useState({\n        oldPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\"\n    })\n\n    //local funkcii\n    const logout = () => {\n        odlogirajSe();\n    }\n\n    const handleChange = (e) => {\n        console.log(e.target.name);\n        namestiLozinki({\n            ...lozinki,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const onSubmit = async (e) => {\n        e.preventDefault();\n        setLoadingBtn(true);\n        setChanging(true);\n        var saved = await promeniLozinka(lozinki);\n        setLoadingBtn(false);\n    }\n\n    const { oldPassword, newPassword, confirmPassword } = lozinki;\n    \n    return (\n        <div className=\"top-menu container-small\">\n            <div className=\"top-menu__left\">\n                <div className=\"logo\"> \n                    <MdChat className=\"logo-icon\" />\n                    <h4>D-Chat</h4>\n                </div>\n            </div>\n            <div className=\"top-menu__right\" onClick={() => setSettings(!settings)}>\n                <div className=\"user-settings-toggle\">\n                    <Avatar className=\"avatar\" size=\"30\" name={`${user.ime} ${user.prezime}`} />\n                    <p>{user.ime} {user.prezime}</p>\n                    <GrFormDown size=\"24\" />\n                </div>\n            </div>\n\n            {settings && (\n                <div className=\"options-dropdown\">\n                    <div onClick={() => setPopup(!popup)} className=\"option-choose\">\n                        <p>Промени лозинка</p>\n                    </div>\n                    <div onClick={logout} className=\"option-choose\">\n                        <p>Одјави се</p>\n                    </div>\n                </div>\n            )}\n\n\n            {\n                popup && (\n                    <div className=\"settings fixed d-flex flex-center top-0 left-0 h-100 w-100 bg-dark-light z-9\">\n                        <div className=\"settings-inner d-flex flex-column bg-white box-shadow-light\">\n                            <div className=\"settings-header bb-1px-solid b-lightGrey-lighter d-flex justify-between align-center\">\n                                <h4 className=\"text-uppercase\">Подесувања</h4>\n                                <span onClick={() => setPopup(false)}>&#10005;</span>\n                            </div>\n                            <form noValidate onSubmit={onSubmit} className=\"settings-inner d-flex flex-column px-20px py-20px\">\n                                <div className=\"contact-box d-flex flex-column w-100 b-2px-solid b-lightGrey-lighter py-12px mt-15px\">\n                                    <input className=\"px-5px w-100\" name=\"oldPassword\" onChange={handleChange} value={oldPassword} required type=\"password\" />\n                                    <label htmlFor=\"\">Стара лозинка</label>\n                                </div>\n                                <div className=\"contact-box d-flex flex-column w-100 b-2px-solid b-lightGrey-lighter py-12px mt-15px\">\n                                    <input className=\"px-5px w-100\" name=\"newPassword\" onChange={handleChange} value={newPassword} required type=\"password\" />\n                                    <label htmlFor=\"\">Нова лозинка</label>\n                                </div>\n                                <div className=\"contact-box d-flex flex-column w-100 b-2px-solid b-lightGrey-lighter py-12px mt-15px\">\n                                    <input className=\"px-5px w-100\" name=\"confirmPassword\" onChange={handleChange} value={confirmPassword} required type=\"password\" />\n                                    <label htmlFor=\"\">Потврди лозинка</label>\n                                </div>\n                                <div className=\"submit-btn mt-15px\">\n                                    <button className=\"w-100 bg-primary hover-bg-primary-dark text-uppercase hover-text-dark py-20px text-center text-white\">\n                                        {loadingBtn ? 'Ве молиме почекајте...' : 'Промени лозинка'}\n                                    </button>\n                                </div>\n\n                                <div className=\"error-msg mt-20px\">\n                                    {errors ? errors : ''}\n                                    {lozinkaPoraka != \"\" ? lozinkaPoraka : \"\"}\n                                </div>\n                              \n                            </form>\n\n                        </div>\n                    </div>\n                )\n            }\n        </div>\n    )\n}\n","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/ChatSide.js",["120","121","122","123","124","125","126","127","128","129"],"import React, { useState, useContext, useEffect } from 'react'\nimport Avatar from 'react-avatar'\nimport moment from 'moment'\n\nimport ChatContext from '../context/chat/chatContext'\nimport AuthContext from '../context/auth/AuthContext'\nimport { RiMessage2Line } from 'react-icons/ri'\nimport { zemiSitePoraki, zemiKorisnikPoraka } from '../help/functions'\n\nexport default function ChatSide({ poraki, users }) {\n    //popup za nova grupa\n    const [novaGrupaPopup, namestiNovaGrupaPopup] = useState(false);\n    const [grupaNaslov, namestiGrupaNaslov] = useState('');\n    const [email, namestiEmail] = useState('');\n\n    //context\n    const { user, najdiKorisnikPoMail, novaGrupaMsg, poslednoDodadenMail } = useContext(AuthContext);\n    const { namestiAktivniPoraki, aktivniPoraki, namestiGrupa, grupa, dodajNovaGrupa, grupi } = useContext(ChatContext);\n    const aktivnaGrupa = grupa;\n    const [change, setChange] = useState(false);\n    const [tempKorisnici, namestiTempKorisnici] = useState([]);\n\n    const submitForm = async e => {\n        e.preventDefault();\n\n        najdiKorisnikPoMail(email);\n        setChange(!change);\n    }\n\n    useEffect(() => {\n\n    }, [aktivniPoraki])\n\n    useEffect(() => {\n        if (poslednoDodadenMail) {\n            if (poslednoDodadenMail.email.trim() != \"\") {\n                let posledenMailPostoi = tempKorisnici.some(tempKorisnik => tempKorisnik.email == poslednoDodadenMail.email);\n\n                if (posledenMailPostoi == false) {\n                    let updatedKorisnici = tempKorisnici;\n                    updatedKorisnici.push(poslednoDodadenMail);\n\n                    namestiTempKorisnici(updatedKorisnici);\n                    namestiEmail('');\n                }\n            }\n\n        }\n    }, [poslednoDodadenMail, change]);\n\n    const createGroup = async () => {\n        let tempKorisniciIds = tempKorisnici.map(mail => mail._id);\n\n        if (tempKorisniciIds.includes(user._id) == false) {\n            tempKorisniciIds.push(user._id);\n        }\n        const dodadenaGrupa = await dodajNovaGrupa(tempKorisniciIds.toString(), grupaNaslov);\n\n       \n        if (dodadenaGrupa) {\n            namestiNovaGrupaPopup(false);\n        }\n    }\n\n    const otstraniOdTemp = async (korisnik) => {\n        let noviKorisnici = tempKorisnici.filter(tempKorisnik => tempKorisnik.email != korisnik.email);\n\n        namestiTempKorisnici(noviKorisnici);\n    }\n\n\n\n    return (\n        <div className=\"messages-list\">\n            <div className=\"messages-list-top container-small\">\n                <p>{grupi.length} пораки</p>\n                <div onClick={() => namestiNovaGrupaPopup(true)} className=\"new-chat\">\n                    <RiMessage2Line size=\"24\" />\n                    <div className=\"plus-icon\"><span>+</span></div>\n                </div>\n            </div>\n\n            {\n                novaGrupaPopup && (\n                    <div className=\"newMessage-popup\">\n                        <div className=\"newMessage-popup__inner\">\n                            <div className=\"header\">\n                                <input value={grupaNaslov} onChange={(e) => namestiGrupaNaslov(e.target.value)} className=\"header-input\" placeholder=\"Име на група\" />\n                                <span onClick={() => namestiNovaGrupaPopup(false)}>&#10005;</span>\n                            </div>\n\n                            <div className=\"content\">\n                                <div className=\"list\">\n                                    {\n                                        tempKorisnici.map(temoKorisnik => (\n                                            <div className=\"item\">\n                                                <p>{temoKorisnik.email}</p>\n                                                <span onClick={() => otstraniOdTemp(temoKorisnik)}>&#10005;</span>\n                                            </div>\n\n                                        ))\n                                    }\n                                </div>\n\n                                <form onSubmit={submitForm} className=\"form\">\n                                    <input value={email} onChange={(e) => namestiEmail(e.target.value)} placeholder=\"E-mail адреса на членот...\" type=\"email\" />\n                                    <button>+</button>\n                                </form>\n\n                                {\n                                    (tempKorisnici && tempKorisnici.length != 0) && (\n                                        <button onClick={createGroup} className=\"createGroup\">Направи група</button>\n                                    )\n                                }\n                                {\n                                    novaGrupaMsg && (\n                                        <div className=\"msg\">\n                                            <p>{novaGrupaMsg}</p>\n                                        </div>\n                                    )\n                                }\n                            </div>\n                        </div>\n                    </div>\n                )\n            }\n\n            <div className=\"chat-list-inner\">\n                {\n                    grupi.map(grupa => {\n                        if (grupa) {\n                            let porakiGrupa = zemiSitePoraki(grupa._id, poraki);\n\n                            let porakiGrupaTemp = porakiGrupa;\n\n                            let poslednaPoraka = {\n                                sodrzina: \"Нема пораки\",\n                                createdAt: \"\",\n                                updatedAt: \"\",\n                                isprakjac: \"\",\n                                procitanoOd: []\n                            }\n                            if (porakiGrupa.length != 0) poslednaPoraka = porakiGrupa[porakiGrupa.length - 1];\n\n                            //user\n                            let korisnikPoraka = zemiKorisnikPoraka(poslednaPoraka.isprakjac, users);\n\n                            let isprakjacIme = '';\n\n                            if (korisnikPoraka) {\n                                isprakjacIme = korisnikPoraka.ime;\n                            }\n\n                            return (\n                                <div key={grupa._id} onClick={() => { namestiAktivniPoraki(porakiGrupaTemp); namestiGrupa(grupa) }} className={`chat-group container-small ${aktivnaGrupa && aktivnaGrupa._id == grupa._id ? 'active' : ''} ${poslednaPoraka.procitanoOd.includes(user._id) ? '' : 'new'}`}>\n                                    <div className=\"group-img\">\n                                        <Avatar size={45} className=\"radius-half\" name={grupa.ime} />\n                                    </div>\n                                    <div className=\"group-right\">\n                                        <div className=\"group-right__top\">\n                                            <div className=\"group-name\">\n                                                <p>{grupa.ime}</p>\n                                            </div>\n                                            <div className=\"group-time\">\n                                                <span>{poslednaPoraka.updatedAt ? moment(poslednaPoraka.updatedAt).fromNow() : \"\"}</span>\n                                            </div>\n                                        </div>\n                                        <div className=\"group-right__bottom\">\n                                            <p><b>{isprakjacIme ? `${isprakjacIme}: ` : ''}</b> {poslednaPoraka && (poslednaPoraka.sodrzina.length > 12 ? `${poslednaPoraka.sodrzina.substr(0, 12)}...` : poslednaPoraka.sodrzina)}</p>\n                                            {\n                                                poslednaPoraka.procitanoOd.includes(user._id) ? '' : (<span>N</span>)\n                                            }\n                                        </div>\n                                    </div>\n                                </div>\n                            )\n\n                        }\n                    })\n                }\n\n            </div>\n        </div>\n    )\n}\n","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/ChatRight.js",["130","131","132","133","134","135","136","137","138","139","140","141"],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Messages.js",["142","143","144","145","146","147","148","149","150","151"],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Members.js",["152","153","154","155","156","157","158","159","160"],"import React, { useState, useEffect, useContext } from 'react'\nimport Avatar from 'react-avatar'\nimport { AiFillSetting } from 'react-icons/ai'\n\nimport ChatContext from '../context/chat/chatContext'\nimport AuthContext from '../context/auth/AuthContext'\nimport { zemiKorisnik } from '../help/functions';\n\nexport default function Members() {\n    const { grupa, izmeniGrupa, namestiNovaGrupa } = useContext(ChatContext);\n    const { users, najdiKorisnikPoMail, novaGrupaMsg, poslednoDodadenMail } = useContext(AuthContext);\n    const [tempKorisnici, namestiTempKorisnici] = useState([]);\n    const [semenuva, namestiSemenuva] = useState(false);\n    const [grupaNaslov, namestiGrupaNaslov] = useState('');\n    const [change, setChange] = useState(false);\n    const [email, setEmail] = useState(\"\");\n\n    const submitForm = async e => {\n        e.preventDefault();\n\n        await najdiKorisnikPoMail(email);\n        setChange(!change);\n    }\n\n    useEffect(() => {\n        if (poslednoDodadenMail) {\n            if (poslednoDodadenMail.email.trim() != \"\") {\n                let posledenEmailPostoi = tempKorisnici.some(tempkorisnik => tempkorisnik.email == poslednoDodadenMail.email);\n    \n                if (posledenEmailPostoi == false) {\n                    let noviKorisnici = tempKorisnici;\n                    noviKorisnici.push(poslednoDodadenMail);\n    \n                    namestiTempKorisnici(noviKorisnici);\n                    setEmail('');\n                }\n            }\n\n        }\n    }, [poslednoDodadenMail, change]);\n\n    useEffect(() => {\n        if (grupa) {\n            let tmails = [];\n\n            for (let i = 0; i < grupa.korisnici.length; i++) {\n                for (let j = 0; j < users.length; j++) {\n                    console.log(users[j]._id);\n                    console.log(grupa.korisnici[i]);\n                    if (grupa.korisnici[i] == users[j]._id) {\n                        console.log('isto e');\n                        tmails.push({\n                            id: users[j]._id,\n                            email: users[j].email\n                        });\n                    }\n                }\n            }\n\n            namestiTempKorisnici(tmails);\n            namestiGrupaNaslov(grupa.ime);\n        }\n        \n    }, [grupa]);\n\n    const otstraniOdTemp = async (korisnikZaB) => {\n        let noviKorisnici = tempKorisnici.filter(korisnik => korisnik.email != korisnikZaB.email);\n\n        namestiTempKorisnici(noviKorisnici);\n    }\n\n    const izmeniGrupaAsync = async () => {\n        let korisnici = tempKorisnici.map(tk => {\n            let rmId = tk.id;\n\n            if (!!tk._id) rmId = tk._id;\n\n            return rmId;\n        });\n\n        await izmeniGrupa(grupa._id, grupaNaslov, korisnici);\n\n        namestiSemenuva(false);\n        namestiNovaGrupa(true);\n    }\n\n\n    return (\n        <div className=\"members\">\n           {\n                grupa.korisnici.map(userId => {\n                    let user = zemiKorisnik(userId, users);\n\n                    return (\n                        <div key={user._id} className=\"member\">\n                            <div className=\"member-left\">\n                                <Avatar className=\"avatar\" size=\"30\" name={`${user.ime}`} />\n                                <span className=\"member-name\">{user.ime} {user.prezime}</span>\n                            </div>\n                            <div onClick={() => namestiSemenuva(true)} className=\"member-right\">\n                                <AiFillSetting color=\"#444\" size=\"20\" />\n                            </div>\n                        </div>\n                    )\n                })\n            }\n\n\n{\n                semenuva && (\n                    <div className=\"newMessage-popup\">\n                        <div className=\"newMessage-popup__inner\">\n                            <div className=\"header\">\n                                <input value={grupaNaslov} onChange={(e) => namestiGrupaNaslov(e.target.value)} className=\"header-input\" placeholder=\"Име на група\" />\n                                <span onClick={() => namestiSemenuva(false)}>&#10005;</span>\n                            </div>\n\n                            <div className=\"content\">\n                                {\n                                     (tempKorisnici && tempKorisnici.length != 0) ? (\n                                <div className=\"list\">\n                                    {\n                                        tempKorisnici.map(tempkorisnik => (\n                                        <div className=\"item\">\n                                            <p>{tempkorisnik.email}</p>\n                                            <span onClick={() => otstraniOdTemp(tempkorisnik)}>&#10005;</span>\n                                        </div>\n\n                                        ))\n                                    }\n                                </div>\n\n                                     ) : (\n                                         <p className=\"noUsers\">Нема корисници</p>\n                                     )\n                                }\n\n                                <form onSubmit={submitForm} className=\"form\">\n                                    <input value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Еmail адреса на членот...\" type=\"email\"/>\n                                    <button>+</button>\n                                </form>\n\n                                {\n                                    (tempKorisnici && tempKorisnici.length != 0) && (\n                                        <button onClick={izmeniGrupaAsync} className=\"createGroup\">Зачувај промени</button>\n                                    )\n                                }\n                                {\n                                    novaGrupaMsg && (\n                                         <div className=\"msg\">\n                                            <p>{novaGrupaMsg}</p>\n                                        </div>\n                                    )\n                                }\n                            </div>\n                        </div>\n                    </div>\n                )\n            }\n        </div>\n    )\n}\n","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/pages/PrivateRoute.js",["161","162","163"],"import React, { useContext, useEffect, useState } from 'react'\nimport Account from '../components/Account'\nimport AuthContext from '../context/auth/AuthContext'\nimport Main from './Main'\nimport Loading from '../components/Loading'\n\nexport default function PrivateRoute() {\n    const { user, namestiNajavenKorisnik } = useContext(AuthContext);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        async function namestiKorisnik(token) {\n            const loggedIn = await namestiNajavenKorisnik(token);\n            setLoading(false);\n        }\n\n        let token = \"\";\n        if (typeof localStorage.token != \"undefined\") {\n            token = localStorage.token;\n        }\n\n        if (user) {\n            //vekje logiran\n        } else {\n            if (token.trim() != \"\") {\n                namestiKorisnik(token);\n            } else {\n                setLoading(false);\n            }\n        }\n    }, []);\n\n    return (\n        <div>\n        {\n            loading ? <Loading /> : user ? (\n                    <Main />\n                ) : (\n                <div className=\"account bg-primary\">\n                    <Account />\n                </div>\n                )\n            }\n        </div>\n    )\n}","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthState.js",["164","165","166"],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthContext.js",[],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/types.js",[],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/auth/AuthReducer.js",["167"],"import { SET_USER, SET_USERS, SET_NEWCHAT_MSG, LOGOUT_USER, AUTH_ERROR, SUCCESS_REGISTER, FAIL_REGISTER, SUCCESS_LOGIN, FAIL_LOGIN, SET_ERROR, CLEAR_ERROR, SET_CHANGING,  CHANGE_PASSWORD_ERROR, CHANGE_PASSWORD_SUCCESS } from '../types'\n\nexport default (state, action) => {\n    switch (action.type) {\n        case SUCCESS_REGISTER:\n        case SUCCESS_LOGIN:\n            localStorage.setItem('token', action.payload.token);\n            return {\n                ...state,\n                userAuth: true,\n                errors: null\n            }\n        case LOGOUT_USER:\n            return {\n                userAuth: null,\n                user: null,\n                sepromenuvaLozinka: false,\n                errors: null,\n            }\n        case FAIL_REGISTER:\n        case FAIL_LOGIN:\n        case AUTH_ERROR:\n            if (action.payload) {\n                // localStorage.removeItem(\"token\");\n                return {\n                    ...state,\n                    userAuth: null,\n                    errors: action.payload,\n                    user: null,\n                    lozinkaPoraka: \"\"\n                }\n            }\n            break;\n        case CHANGE_PASSWORD_ERROR:\n            return {\n                ...state,\n                errors: action.payload,\n                lozinkaPoraka: \"\"\n            }\n        case CHANGE_PASSWORD_SUCCESS:\n            return {\n                ...state,\n                errors: null,\n                user: action.payload,\n                userAuth: true,\n                lozinkaPoraka: \"Лозинката е успешно променета\"\n            }\n        case SET_ERROR:\n            return {\n                ...state,\n                errors: action.payload\n            }\n        case CLEAR_ERROR:\n            return {\n                ...state,\n                errors: null\n            }\n        case SET_USER:\n            return {\n                ...state,\n                userAuth: true,\n                user: action.payload,\n                errors: null,\n                sepromenuvaLozinka: false\n            }\n        case SET_USERS:\n            return {\n                ...state,\n                errors: null,\n                users: action.payload\n            }\n        case SET_CHANGING: {\n            return {\n                ...state,\n                sepromenuvaLozinka: action.payload\n            }\n        }\n\n        case SET_NEWCHAT_MSG: \n        return {\n            ...state,\n            users: [...state.users, action.payload.email],\n            novaGrupaMsg: action.payload.msg,\n            poslednoDodadenMail: action.payload.email\n        }\n\n        default:\n            return state;\n    }\n}","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/help/functions.js",["168","169","170"],"import axios from '../axios'\n\nexport const setToken = token => {\n    if (token) {\n        axios.defaults.headers.common['auth-token'] = token;\n\n    } else {\n        delete axios.defaults.headers.common[\"auth-token\"];\n    }\n}\n\n\nexport const zemiKorisnik = (userId, korisnici) => {\n    if (userId) {\n        return korisnici.filter(user => user._id == userId)[0];\n\n    } else {\n        return [];\n    }\n} \n\nexport const zemiSiteGrupi = (userId, grupi) => {\n    let tempGrupi = grupi.map(grupa => {\n        if (grupa.korisnici.includes(userId)) return grupa;\n    });\n\n    var sortiraniGrupi = tempGrupi.sort((a,b) => (a.poslednaPoraka < b.poslednaPoraka) ? 1 : ((b.poslednaPoraka < a.poslednaPoraka) ? -1 : 0));\n    \n    return sortiraniGrupi;\n}\n\nexport const zemiSitePoraki = (grupa, poraki) => {\n    if (poraki) {\n        return poraki.filter(poraka => poraka.grupa === grupa);\n    } else {\n        return [];\n    }\n}\n\nexport const zemiKorisnikPoraka = (isprakjac, korisnici) => {\n    if (isprakjac && korisnici) {\n        return korisnici.filter(korisnik => korisnik._id == isprakjac)[0];\n    } else {\n        return [];\n    }\n} ","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/axios.js",["171"],"import axios from 'axios'\n\nconst instance = axios.create({\n    baseURL: process.env.NODE_ENV == \"production\" ? \"https://dchat-backend.herokuapp.com/\" : \"http://localhost:5000/\"\n})\n\nexport default instance","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/components/Loading.js",[],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatState.js",["172","173","174","175","176"],"import React, { useReducer } from 'react'\nimport axios from '../../axios'\nimport ChatContext from './chatContext'\nimport chatReducer from './chatReducer'\nimport {\n    SET_ERROR,\n    CLEAR_ERROR,\n    SUCCESS_ADD_MESSAGE,\n    SET_MESSAGES,\n    SET_GROUP,\n    SET_GROUPS,\n    SET_ACTIVE_MESSAGES,\n    ADD_NEW_GROUP,\n    UPDATE_GROUP,\n    SUCCESS_CHANGE_GROUP,\n    SET_NEW_GROUP,\n    SET_SEEN_MESSAGE,\n    SET_SEEN_GROUP,\n    SET_SEEN_SOCKET\n} from '../types'\nimport {setToken} from '../../help/functions'\n\nconst ChatState = props => {\n    const initState = {\n        error: null,\n        poraki: [],\n        grupa: null,\n        grupi: [],\n        aktivniPoraki: [],\n        osveziGrupi: false,\n        novaGrupa: false\n    }\n    const [state, dispatch] = useReducer(chatReducer, initState);\n\n    const namestiGrupa = (grupaId) => {\n        dispatch({\n            type: SET_GROUP,\n            payload: grupaId\n        })\n    }\n\n    const namestiNovaGrupa = (novaGrupa) => {\n        dispatch({\n            type: SET_NEW_GROUP,\n            payload: novaGrupa\n        })\n    }\n\n    const zemiPoraki = async (grupi) => {\n        try {\n            const res = await axios.get('/messages', {\n                params: {\n                    grupi\n                }\n            });\n\n            dispatch({\n                type: SET_MESSAGES,\n                payload: res.data.messages\n            })\n        } catch (err) {\n            dispatch({\n                type: SET_ERROR,\n                payload: err\n            })\n        }\n    }\n\n    const kreirajPoraka = async (poraka) => {\n        var { grupa, sodrzina, isprakjac } = poraka;\n\n        try {\n            const res = await axios.post('/messages', {\n                grupa, sodrzina, isprakjac\n            });\n            console.log(res.data.message._id);\n            dispatch({\n                type: UPDATE_GROUP,\n                payload: {grupa, isprakjac, sodrzina, id: res.data.message._id}\n            });\n        } catch (err) {\n        }\n    }\n\n    const namestiProcitanaGrupa = (grupa, korisnik) => {\n        dispatch({\n            type: SET_SEEN_GROUP,\n            payload: {grupa, korisnik}\n        })\n    }\n\n    const vmetniPoraka = async (poraka) => {\n        var { grupa, sodrzina, isprakjac } = poraka;\n        poraka.procitanoOd = [isprakjac];\n\n        dispatch({\n            type: SUCCESS_ADD_MESSAGE,\n            payload: poraka\n        })\n    }\n\n    const zemiGrupi = async (korisnici) => {\n        try {\n            const res = await axios.get('/groups', {\n                params: {\n                    korisnici\n                }\n            });\n\n            dispatch({\n                type: SET_GROUPS,\n                payload: res.data.grupi\n            })\n        } catch (err) {\n            dispatch({\n                type: SET_ERROR,\n                payload: err\n            })\n        }\n    }\n\n    const namestiAktivniPoraki = poraki => {\n        dispatch({\n            type: SET_ACTIVE_MESSAGES,\n            payload: poraki\n        })\n    }\n\n\n    const izmeniGrupa = async (grupaId, ime = null, korisnici = null) => {\n        try {\n            const res = await axios.post(`/groups/${grupaId}`, {\n                korisnici,\n                ime\n            })\n\n            dispatch({\n                type: SUCCESS_CHANGE_GROUP,\n                payload: res.data\n            })\n        } catch (err) {\n            // dispatch({\n            //     type: SET_ERROR,\n\n            // })\n        }\n    }\n\n    const dodajNovaGrupa = async (korisnici, ime) => {\n        try {\n            const res = await axios.post('/groups', {\n                korisnici,\n                ime\n            });\n\n            dispatch({\n                type: ADD_NEW_GROUP,\n                payload: res.data.grupa\n            })\n\n            return true;\n        } catch (err) {\n            let errorMsg = err.response.data.errors[0].msg;\n            alert(errorMsg);\n\n            return false;\n        }\n    }\n\n    const namestiProcitano = async (korisnik, poraka) => {\n        try {\n            const res = await axios.post(`/messages/${poraka}`, {\n                korisnik,\n                promenaPoraka: \"seen\"\n            });\n        \n            dispatch({\n                type: SET_SEEN_MESSAGE,\n                payload: {\n                    korisnik, poraka\n                }\n            })\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    const procitanaPorakaKorisnik = (grupa, korisnik) => {\n        console.log('procitana poraka korisnik: ');\n        console.log(grupa, korisnik);\n\n        dispatch({\n            type: SET_SEEN_SOCKET,\n            payload: {\n                grupa, korisnik\n            }\n        })\n    }\n\n\n    return (\n        <ChatContext.Provider value={{\n            zemiPoraki,\n            namestiGrupa,\n            kreirajPoraka,\n            zemiGrupi,\n            namestiAktivniPoraki,\n            vmetniPoraka,\n            dodajNovaGrupa,\n            izmeniGrupa,\n            namestiNovaGrupa,\n            namestiProcitano,\n            namestiProcitanaGrupa,\n            procitanaPorakaKorisnik,\n            error: state.error,\n            poraki: state.poraki,\n            grupa: state.grupa,\n            grupi: state.grupi,\n            osveziGrupi: state.osveziGrupi,\n            aktivniPoraki: state.aktivniPoraki,\n            novaGrupa: state.novaGrupa\n        }}>\n            {props.children}\n        </ChatContext.Provider>\n    )\n}\n\nexport default ChatState","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatContext.js",[],"/home/dimitar/Documents/code-learn/dchat/dchat-client/src/context/chat/chatReducer.js",["177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196"],"import {\n    SET_ERROR,\n    CLEAR_ERROR,\n    SUCCESS_ADD_MESSAGE,\n    SET_MESSAGES,\n    SET_GROUP,\n    SET_GROUPS,\n    SET_ACTIVE_MESSAGES,\n    ADD_NEW_GROUP,\n    UPDATE_GROUP,\n    SUCCESS_CHANGE_GROUP,\n    SET_NEW_GROUP,\n    SUCCESS_DELETE_MESSAGE,\n    SET_SEEN_MESSAGE,\n    SET_SEEN_GROUP,\n    SET_SEEN_SOCKET\n} from '../types'\n\nexport default (state, action) => {\n    switch (action.type) {\n        case SET_GROUP:\n            return {\n                ...state,\n                grupa: action.payload\n            }\n        case SET_GROUPS:\n            const sortiraniGrupi = action.payload.sort((a,b) => (a.poslednaPoraka < b.poslednaPoraka) ? 1 : ((b.poslednaPoraka < a.poslednaPoraka) ? -1 : 0));\n            return {\n                ...state,\n                grupi: sortiraniGrupi,\n                osveziGrupi: false\n            }\n        case UPDATE_GROUP:\n            var grupiPredUpdate = state.grupi;\n\n            for (let i = 0; i < grupiPredUpdate.length; i++) {\n                if (grupiPredUpdate[i]._id == action.payload.grupa) {\n                    grupiPredUpdate[i].poslednaPoraka = new Date().getTime();\n                }\n            }\n\n            const sortiraniGrupiUpdate = grupiPredUpdate.sort((a,b) => (a.poslednaPoraka < b.poslednaPoraka) ? 1 : ((b.poslednaPoraka < a.poslednaPoraka) ? -1 : 0));\n\n            const porakiSoNajnovaId = state.poraki.map(poraka => {\n                if (!poraka._id) {\n                    console.log('nema id');\n                    if (poraka.isprakjac == action.payload.isprakjac && action.payload.sodrzina == poraka.sodrzina) {\n                        console.log('isto e se');\n\n                        poraka._id = action.payload.id;\n                    }\n                }\n\n                return poraka;\n            })\n\n            return {\n                ...state,\n                poraki: porakiSoNajnovaId,\n                grupi: sortiraniGrupiUpdate\n            }\n        case SUCCESS_CHANGE_GROUP:\n            // console.log(action.payload);\n            let promenetiGrupi = state.grupi.map(grupa => {\n                if (grupa._id == action.payload._id) {\n                    grupa = action.payload;\n                }\n\n                return grupa;\n            })\n\n            // console.log(promenetiGrupi);\n            return {\n                ...state,\n                grupi: promenetiGrupi,\n                grupa: action.payload\n            }\n        case ADD_NEW_GROUP:\n            return {\n                ...state,\n                grupi: [...state.grupi, action.payload],\n                grupa: action.payload\n            }\n        case SUCCESS_ADD_MESSAGE: \n        var grupiPredUpdate1 = state.grupi;\n\n        var grupaInfo = grupiPredUpdate1.filter(r => r._id == action.payload.grupa);\n\n        var osveziGrupi = false;\n        if (grupaInfo.length == 0) {\n            osveziGrupi=true;\n        }\n\n            for (let i = 0; i < grupiPredUpdate1.length; i++) {\n                if (grupiPredUpdate1[i]._id == action.payload.grupa) {\n                    grupiPredUpdate1[i].poslednaPoraka = new Date().getTime();\n                }\n            }\n\n            const sortiraniGrupiPredUpdate = grupiPredUpdate1.sort((a,b) => (a.poslednaPoraka < b.poslednaPoraka) ? 1 : ((b.poslednaPoraka < a.poslednaPoraka) ? -1 : 0));\n\n        return {\n            ...state,\n            poraki: [...state.poraki, action.payload],\n            aktivniPoraki: [...state.aktivniPoraki, action.payload],\n            error: null,\n            grupi: sortiraniGrupiPredUpdate,\n            osveziGrupi\n        }\n     \n        case SET_NEW_GROUP:\n            return {\n                ...state,\n                novaGrupa: action.payload\n            }\n        break;\n        case SET_MESSAGES:\n           \n            return {\n                ...state,\n                poraki: action.payload,\n                error: null\n            }\n        case SET_ERROR:\n            return {\n                ...state,\n                error: action.payload\n            }\n        case CLEAR_ERROR:\n            return {\n                ...state,\n                error: null\n            }\n        case SET_ACTIVE_MESSAGES:\n            return {\n                ...state,\n                aktivniPoraki: action.payload\n            }\n        case SET_SEEN_MESSAGE:\n            let porakiSoSeen = state.poraki;\n            let aktivniSoSeen = state.aktivniPoraki;\n            porakiSoSeen = porakiSoSeen.map(poraka => {\n                if (poraka._id == action.payload.poraka) {\n                    poraka.procitanoOd.push(action.payload.korisnik);\n                }\n\n                return poraka;\n            });\n\n            aktivniSoSeen = aktivniSoSeen.map(poraka => {\n                if (poraka._id == action.payload.poraka) {\n                    poraka.procitanoOd.push(action.payload.korisnik);\n                }\n\n                return poraka;\n            });\n            let promeniGrupi = state.grupi;\n\n            promeniGrupi = promeniGrupi.map(grupa => {\n                if (grupa.korisnici.includes(action.payload.korisnik)) {\n                    grupa.promeni = !grupa.promeni;\n                }\n\n                return grupa;\n            })\n\n            return {\n                ...state,\n                poraki: porakiSoSeen,\n                aktivniPoraki: aktivniSoSeen,\n                grupi: promeniGrupi\n            }\n        case SET_SEEN_SOCKET:\n            let procitaniPorakiSocket = state.poraki;\n            let aProcitaniPorakiSocket = state.aktivniPoraki;\n\n            procitaniPorakiSocket = procitaniPorakiSocket.map(poraka => {\n                if (poraka.grupa == action.payload.grupa) {\n                    if (poraka.procitanoOd.includes(action.payload.korisnik) == false) {\n                        poraka.procitanoOd.push(action.payload.korisnik);\n                    }\n                }\n                return poraka;\n            });\n\n            aProcitaniPorakiSocket = aProcitaniPorakiSocket.map(poraka => {\n                if (poraka.grupa == action.payload.grupa) {\n                    if (poraka.procitanoOd.includes(action.payload.korisnik) == false) {\n                        poraka.procitanoOd.push(action.payload.korisnik);\n                    }\n                }\n                return poraka;\n            });\n\n            return {\n                ...state,\n                poraki: procitaniPorakiSocket,\n                aktivniPoraki: aProcitaniPorakiSocket\n            }\n        break;\n        case SET_SEEN_GROUP:\n            let procitaniPoraki = state.poraki;\n            let procitaniAktivniPoraki = state.aktivniPoraki;\n\n            procitaniPoraki = procitaniPoraki.map(poraka => {\n                if (poraka.grupa == action.payload.grupa) {\n                    if (poraka.procitanoOd && !poraka.procitanoOd.includes(action.payload.korisnik)) {\n                        //ne e procitana\n                        poraka.procitanoOd.push(action.payload.korisnik);\n                    } else {\n                        console.log('ili e procitana ili nema procitanoOd');\n                    }\n                }\n\n                return poraka;\n            })\n\n            procitaniAktivniPoraki = procitaniAktivniPoraki.map(poraka => {\n                if (poraka.grupa == action.payload.grupa) {\n                    if (poraka.procitanoOd && !poraka.procitanoOd.includes(action.payload.korisnik)) {\n                        //ne e procitana\n                        poraka.procitanoOd.push(action.payload.korisnik);\n                    } else {\n                        console.log('ili e procitana ili nema procitanoOd');\n                    }\n                }\n\n                return poraka;\n            })\n\n            return {\n                ...state,\n                poraki: procitaniPoraki,\n                aktivniPoraki: procitaniAktivniPoraki\n            }\n        break;\n        default:\n            return state;\n    }\n}","/home/dimitar/Documents/code-learn/dchat/dchat-client/src/help/sockets.js",["197"],"import io from 'socket.io-client';\n\nlet socket;\nexport const inicijalizirajSocket = (grupa) => {\n  socket = io(process.env.NODE_ENV == \"production\" ? \"https://dchat-backend.herokuapp.com/\" : 'http://localhost:8000/');\n}\nexport const diskonektirajSocket = () => {\n  if(socket) socket.disconnect();\n}\nexport const pretplataChat = (cbNovaPoraka, cbProcitanaPoraka) => {\n  if (!socket) return(true);\n  socket.on('nacrtajPoraka', (sodrzina, grupa, isprakjac) => {\n   console.log('nova poraka: ' + sodrzina);\n    return cbNovaPoraka({\n      grupa, sodrzina, isprakjac\n    });\n  });\n\n  socket.on(\"seenPoraka\", (grupa, korisnik) => {\n    cbProcitanaPoraka(grupa, korisnik);\n  })\n}\n\nexport const procitanoSocket = (grupa, korisnik, cb = null) => {\n  socket.emit(\"seen\", grupa, korisnik);\n  if (cb) {\n    cb();\n  }\n}\n\nexport const vleziVoGrupi = (grupi, userId) => {\n  if (grupi) {\n    if (socket) {\n      let tempGrupi = grupi.map(grupa=>grupa._id);\n      \n      socket.emit('join', tempGrupi, userId);\n    }\n  }\n}\n\nexport const ispratiPorakaSocket = (grupa, poraka, isprakjac, cb = null, korisnici=[], novaGrupa = false) => {\n  console.log(grupa);\n  if (socket) {\n    socket.emit('novaPoraka', { poraka, grupa, isprakjac, korisniciPoraka: korisnici, novaGrupa });\n    cb({\n      sodrzina: poraka,\n      grupa, isprakjac\n    });\n  }\n}",{"ruleId":"198","replacedBy":"199"},{"ruleId":"200","replacedBy":"201"},{"ruleId":"202","severity":1,"message":"203","line":1,"column":17,"nodeType":"204","messageId":"205","endLine":1,"endColumn":26},{"ruleId":"202","severity":1,"message":"206","line":6,"column":47,"nodeType":"204","messageId":"205","endLine":6,"endColumn":55},{"ruleId":"202","severity":1,"message":"207","line":30,"column":15,"nodeType":"204","messageId":"205","endLine":30,"endColumn":22},{"ruleId":"202","severity":1,"message":"208","line":45,"column":15,"nodeType":"204","messageId":"205","endLine":45,"endColumn":26},{"ruleId":"209","severity":1,"message":"210","line":63,"column":33,"nodeType":"211","endLine":63,"endColumn":116},{"ruleId":"209","severity":1,"message":"210","line":80,"column":37,"nodeType":"211","endLine":80,"endColumn":119},{"ruleId":"202","severity":1,"message":"212","line":12,"column":12,"nodeType":"204","messageId":"205","endLine":12,"endColumn":17},{"ruleId":"202","severity":1,"message":"213","line":12,"column":19,"nodeType":"204","messageId":"205","endLine":12,"endColumn":27},{"ruleId":"202","severity":1,"message":"214","line":14,"column":20,"nodeType":"204","messageId":"205","endLine":14,"endColumn":25},{"ruleId":"202","severity":1,"message":"215","line":15,"column":42,"nodeType":"204","messageId":"205","endLine":15,"endColumn":53},{"ruleId":"216","severity":1,"message":"217","line":24,"column":8,"nodeType":"218","endLine":24,"endColumn":10,"suggestions":"219"},{"ruleId":"202","severity":1,"message":"220","line":28,"column":19,"nodeType":"204","messageId":"205","endLine":28,"endColumn":24},{"ruleId":"216","severity":1,"message":"221","line":33,"column":8,"nodeType":"218","endLine":33,"endColumn":10,"suggestions":"222"},{"ruleId":"216","severity":1,"message":"221","line":45,"column":8,"nodeType":"218","endLine":45,"endColumn":21,"suggestions":"223"},{"ruleId":"224","severity":1,"message":"225","line":48,"column":35,"nodeType":"226","messageId":"227","endLine":48,"endColumn":37},{"ruleId":"224","severity":1,"message":"228","line":56,"column":88,"nodeType":"226","messageId":"227","endLine":56,"endColumn":90},{"ruleId":"216","severity":1,"message":"229","line":68,"column":8,"nodeType":"218","endLine":68,"endColumn":15,"suggestions":"230"},{"ruleId":"202","severity":1,"message":"231","line":37,"column":13,"nodeType":"204","messageId":"205","endLine":37,"endColumn":18},{"ruleId":"224","severity":1,"message":"225","line":100,"column":52,"nodeType":"226","messageId":"227","endLine":100,"endColumn":54},{"ruleId":"224","severity":1,"message":"225","line":36,"column":50,"nodeType":"226","messageId":"227","endLine":36,"endColumn":52},{"ruleId":"224","severity":1,"message":"228","line":37,"column":96,"nodeType":"226","messageId":"227","endLine":37,"endColumn":98},{"ruleId":"224","severity":1,"message":"228","line":39,"column":40,"nodeType":"226","messageId":"227","endLine":39,"endColumn":42},{"ruleId":"216","severity":1,"message":"232","line":49,"column":8,"nodeType":"218","endLine":49,"endColumn":37,"suggestions":"233"},{"ruleId":"224","severity":1,"message":"228","line":54,"column":49,"nodeType":"226","messageId":"227","endLine":54,"endColumn":51},{"ruleId":"224","severity":1,"message":"225","line":66,"column":85,"nodeType":"226","messageId":"227","endLine":66,"endColumn":87},{"ruleId":"224","severity":1,"message":"225","line":111,"column":76,"nodeType":"226","messageId":"227","endLine":111,"endColumn":78},{"ruleId":"234","severity":1,"message":"235","line":130,"column":37,"nodeType":"236","messageId":"237","endLine":130,"endColumn":39},{"ruleId":"224","severity":1,"message":"225","line":143,"column":52,"nodeType":"226","messageId":"227","endLine":143,"endColumn":54},{"ruleId":"224","severity":1,"message":"228","line":155,"column":207,"nodeType":"226","messageId":"227","endLine":155,"endColumn":209},{"ruleId":"202","severity":1,"message":"238","line":23,"column":13,"nodeType":"204","messageId":"205","endLine":23,"endColumn":23},{"ruleId":"202","severity":1,"message":"239","line":23,"column":51,"nodeType":"204","messageId":"205","endLine":23,"endColumn":57},{"ruleId":"224","severity":1,"message":"225","line":36,"column":29,"nodeType":"226","messageId":"227","endLine":36,"endColumn":31},{"ruleId":"224","severity":1,"message":"225","line":46,"column":27,"nodeType":"226","messageId":"227","endLine":46,"endColumn":29},{"ruleId":"224","severity":1,"message":"228","line":48,"column":38,"nodeType":"226","messageId":"227","endLine":48,"endColumn":40},{"ruleId":"224","severity":1,"message":"228","line":48,"column":56,"nodeType":"226","messageId":"227","endLine":48,"endColumn":58},{"ruleId":"224","severity":1,"message":"225","line":63,"column":31,"nodeType":"226","messageId":"227","endLine":63,"endColumn":33},{"ruleId":"224","severity":1,"message":"228","line":117,"column":87,"nodeType":"226","messageId":"227","endLine":117,"endColumn":89},{"ruleId":"224","severity":1,"message":"228","line":120,"column":87,"nodeType":"226","messageId":"227","endLine":120,"endColumn":89},{"ruleId":"224","severity":1,"message":"228","line":127,"column":25,"nodeType":"226","messageId":"227","endLine":127,"endColumn":27},{"ruleId":"224","severity":1,"message":"228","line":135,"column":25,"nodeType":"226","messageId":"227","endLine":135,"endColumn":27},{"ruleId":"240","severity":1,"message":"241","line":138,"column":122,"nodeType":"242","endLine":138,"endColumn":169},{"ruleId":"202","severity":1,"message":"243","line":1,"column":17,"nodeType":"204","messageId":"205","endLine":1,"endColumn":25},{"ruleId":"202","severity":1,"message":"244","line":11,"column":11,"nodeType":"204","messageId":"205","endLine":11,"endColumn":25},{"ruleId":"234","severity":1,"message":"235","line":25,"column":57,"nodeType":"236","messageId":"237","endLine":25,"endColumn":59},{"ruleId":"224","severity":1,"message":"225","line":32,"column":98,"nodeType":"226","messageId":"227","endLine":32,"endColumn":100},{"ruleId":"224","severity":1,"message":"228","line":45,"column":74,"nodeType":"226","messageId":"227","endLine":45,"endColumn":76},{"ruleId":"224","severity":1,"message":"228","line":50,"column":42,"nodeType":"226","messageId":"227","endLine":50,"endColumn":44},{"ruleId":"224","severity":1,"message":"228","line":51,"column":38,"nodeType":"226","messageId":"227","endLine":51,"endColumn":40},{"ruleId":"240","severity":1,"message":"241","line":55,"column":124,"nodeType":"242","endLine":55,"endColumn":133},{"ruleId":"224","severity":1,"message":"228","line":63,"column":58,"nodeType":"226","messageId":"227","endLine":63,"endColumn":60},{"ruleId":"224","severity":1,"message":"225","line":63,"column":108,"nodeType":"226","messageId":"227","endLine":63,"endColumn":110},{"ruleId":"224","severity":1,"message":"225","line":27,"column":50,"nodeType":"226","messageId":"227","endLine":27,"endColumn":52},{"ruleId":"224","severity":1,"message":"228","line":28,"column":97,"nodeType":"226","messageId":"227","endLine":28,"endColumn":99},{"ruleId":"224","severity":1,"message":"228","line":30,"column":41,"nodeType":"226","messageId":"227","endLine":30,"endColumn":43},{"ruleId":"216","severity":1,"message":"232","line":40,"column":8,"nodeType":"218","endLine":40,"endColumn":37,"suggestions":"245"},{"ruleId":"224","severity":1,"message":"228","line":50,"column":44,"nodeType":"226","messageId":"227","endLine":50,"endColumn":46},{"ruleId":"216","severity":1,"message":"246","line":64,"column":8,"nodeType":"218","endLine":64,"endColumn":15,"suggestions":"247"},{"ruleId":"224","severity":1,"message":"225","line":67,"column":77,"nodeType":"226","messageId":"227","endLine":67,"endColumn":79},{"ruleId":"224","severity":1,"message":"225","line":120,"column":77,"nodeType":"226","messageId":"227","endLine":120,"endColumn":79},{"ruleId":"224","severity":1,"message":"225","line":144,"column":76,"nodeType":"226","messageId":"227","endLine":144,"endColumn":78},{"ruleId":"202","severity":1,"message":"248","line":13,"column":19,"nodeType":"204","messageId":"205","endLine":13,"endColumn":27},{"ruleId":"224","severity":1,"message":"225","line":25,"column":30,"nodeType":"226","messageId":"227","endLine":25,"endColumn":32},{"ruleId":"216","severity":1,"message":"249","line":31,"column":8,"nodeType":"218","endLine":31,"endColumn":10,"suggestions":"250"},{"ruleId":"202","severity":1,"message":"251","line":6,"column":127,"nodeType":"204","messageId":"205","endLine":6,"endColumn":138},{"ruleId":"224","severity":1,"message":"228","line":59,"column":53,"nodeType":"226","messageId":"227","endLine":59,"endColumn":55},{"ruleId":"202","severity":1,"message":"252","line":154,"column":19,"nodeType":"204","messageId":"205","endLine":154,"endColumn":22},{"ruleId":"253","severity":1,"message":"254","line":3,"column":1,"nodeType":"255","endLine":90,"endColumn":2},{"ruleId":"224","severity":1,"message":"228","line":15,"column":50,"nodeType":"226","messageId":"227","endLine":15,"endColumn":52},{"ruleId":"234","severity":1,"message":"235","line":23,"column":37,"nodeType":"236","messageId":"237","endLine":23,"endColumn":39},{"ruleId":"224","severity":1,"message":"228","line":42,"column":58,"nodeType":"226","messageId":"227","endLine":42,"endColumn":60},{"ruleId":"224","severity":1,"message":"228","line":4,"column":35,"nodeType":"226","messageId":"227","endLine":4,"endColumn":37},{"ruleId":"202","severity":1,"message":"251","line":7,"column":5,"nodeType":"204","messageId":"205","endLine":7,"endColumn":16},{"ruleId":"202","severity":1,"message":"256","line":21,"column":9,"nodeType":"204","messageId":"205","endLine":21,"endColumn":17},{"ruleId":"202","severity":1,"message":"214","line":93,"column":15,"nodeType":"204","messageId":"205","endLine":93,"endColumn":20},{"ruleId":"202","severity":1,"message":"257","line":93,"column":22,"nodeType":"204","messageId":"205","endLine":93,"endColumn":30},{"ruleId":"202","severity":1,"message":"252","line":172,"column":19,"nodeType":"204","messageId":"205","endLine":172,"endColumn":22},{"ruleId":"202","severity":1,"message":"258","line":13,"column":5,"nodeType":"204","messageId":"205","endLine":13,"endColumn":27},{"ruleId":"253","severity":1,"message":"254","line":19,"column":1,"nodeType":"255","endLine":240,"endColumn":2},{"ruleId":"224","severity":1,"message":"228","line":37,"column":44,"nodeType":"226","messageId":"227","endLine":37,"endColumn":46},{"ruleId":"224","severity":1,"message":"228","line":47,"column":42,"nodeType":"226","messageId":"227","endLine":47,"endColumn":44},{"ruleId":"224","severity":1,"message":"228","line":47,"column":97,"nodeType":"226","messageId":"227","endLine":47,"endColumn":99},{"ruleId":"224","severity":1,"message":"228","line":65,"column":31,"nodeType":"226","messageId":"227","endLine":65,"endColumn":33},{"ruleId":"224","severity":1,"message":"228","line":87,"column":60,"nodeType":"226","messageId":"227","endLine":87,"endColumn":62},{"ruleId":"224","severity":1,"message":"228","line":90,"column":30,"nodeType":"226","messageId":"227","endLine":90,"endColumn":32},{"ruleId":"224","severity":1,"message":"228","line":95,"column":45,"nodeType":"226","messageId":"227","endLine":95,"endColumn":47},{"ruleId":"259","severity":1,"message":"260","line":116,"column":9,"nodeType":"261","messageId":"262","endLine":116,"endColumn":15},{"ruleId":"224","severity":1,"message":"228","line":143,"column":32,"nodeType":"226","messageId":"227","endLine":143,"endColumn":34},{"ruleId":"224","severity":1,"message":"228","line":151,"column":32,"nodeType":"226","messageId":"227","endLine":151,"endColumn":34},{"ruleId":"224","severity":1,"message":"228","line":178,"column":34,"nodeType":"226","messageId":"227","endLine":178,"endColumn":36},{"ruleId":"224","severity":1,"message":"228","line":179,"column":78,"nodeType":"226","messageId":"227","endLine":179,"endColumn":80},{"ruleId":"224","severity":1,"message":"228","line":187,"column":34,"nodeType":"226","messageId":"227","endLine":187,"endColumn":36},{"ruleId":"224","severity":1,"message":"228","line":188,"column":78,"nodeType":"226","messageId":"227","endLine":188,"endColumn":80},{"ruleId":"259","severity":1,"message":"260","line":200,"column":9,"nodeType":"261","messageId":"262","endLine":200,"endColumn":15},{"ruleId":"224","severity":1,"message":"228","line":206,"column":34,"nodeType":"226","messageId":"227","endLine":206,"endColumn":36},{"ruleId":"224","severity":1,"message":"228","line":219,"column":34,"nodeType":"226","messageId":"227","endLine":219,"endColumn":36},{"ruleId":"259","severity":1,"message":"260","line":236,"column":9,"nodeType":"261","messageId":"262","endLine":236,"endColumn":15},{"ruleId":"224","severity":1,"message":"228","line":5,"column":36,"nodeType":"226","messageId":"227","endLine":5,"endColumn":38},"no-native-reassign",["263"],"no-negated-in-lhs",["264"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'setError' is assigned a value but never used.","'logiran' is assigned a value but never used.","'registriran' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'chats' is assigned a value but never used.","'setChats' is assigned a value but never used.","'grupa' is assigned a value but never used.","'setChanging' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'procitanaPorakaKorisnik' and 'vmetniPoraka'. Either include them or remove the dependency array.","ArrayExpression",["265"],"'grupi' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'user._id' and 'zemiGrupi'. Either include them or remove the dependency array.",["266"],["267"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","React Hook useEffect has missing dependencies: 'citajKorisnici', 'user._id', and 'zemiPoraki'. Either include them or remove the dependency array.",["268"],"'saved' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'tempKorisnici'. Either include it or remove the dependency array.",["269"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'zemiPoraki' is assigned a value but never used.","'poraki' is assigned a value but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'useState' is defined but never used.","'messagesEndRef' is assigned a value but never used.",["270"],"React Hook useEffect has a missing dependency: 'users'. Either include it or remove the dependency array.",["271"],"'loggedIn' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'namestiNajavenKorisnik' and 'user'. Either include them or remove the dependency array.",["272"],"'CLEAR_ERROR' is defined but never used.","'res' is assigned a value but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'setToken' is defined but never used.","'sodrzina' is assigned a value but never used.","'SUCCESS_DELETE_MESSAGE' is defined but never used.","no-unreachable","Unreachable code.","BreakStatement","unreachableCode","no-global-assign","no-unsafe-negation",{"desc":"273","fix":"274"},{"desc":"275","fix":"276"},{"desc":"277","fix":"278"},{"desc":"279","fix":"280"},{"desc":"281","fix":"282"},{"desc":"281","fix":"283"},{"desc":"284","fix":"285"},{"desc":"286","fix":"287"},"Update the dependencies array to be: [procitanaPorakaKorisnik, vmetniPoraka]",{"range":"288","text":"289"},"Update the dependencies array to be: [user._id, zemiGrupi]",{"range":"290","text":"291"},"Update the dependencies array to be: [osveziGrupi, user._id, zemiGrupi]",{"range":"292","text":"293"},"Update the dependencies array to be: [citajKorisnici, grupi, user._id, zemiPoraki]",{"range":"294","text":"295"},"Update the dependencies array to be: [poslednoDodadenMail, change, tempKorisnici]",{"range":"296","text":"297"},{"range":"298","text":"297"},"Update the dependencies array to be: [grupa, users]",{"range":"299","text":"300"},"Update the dependencies array to be: [namestiNajavenKorisnik, user]",{"range":"301","text":"302"},[958,960],"[procitanaPorakaKorisnik, vmetniPoraka]",[1126,1128],"[user._id, zemiGrupi]",[1427,1440],"[osveziGrupi, user._id, zemiGrupi]",[2240,2247],"[citajKorisnici, grupi, user._id, zemiPoraki]",[1743,1772],"[poslednoDodadenMail, change, tempKorisnici]",[1499,1528],[2262,2269],"[grupa, users]",[933,935],"[namestiNajavenKorisnik, user]"]